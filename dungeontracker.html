<!DOCTYPE html>
<html>
<head>
    <title>ALTTP Randomizer Community Tracker - Dungeon Tracker</title>
    <script src="js/jquery-3.3.1.js?v=21005"></script>
    <script src="js/bootstrap.min.js?v=21005"></script>
    <link href="css/dungeonstyle.css?v=21005" rel="stylesheet" type="text/css">
    <link href="css/sprites.css?v=21005" rel="stylesheet" type="text/css">
    <link href="css/fonts.css?v=21005" rel="stylesheet" type="text/css">
    <script src="js/util.js?v=21005"></script>
    <script src="js/owdungeondata.js?v=21005"></script>
    <script src="js/dungeontracker.js?v=21005"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z3T0KM2W1L"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-Z3T0KM2W1L');
    </script>
    <meta charset="UTF-8">
    <meta content="no-cache, no-store, must-revalidate" http-equiv="Cache-Control"/>
    <meta content="no-cache" http-equiv="Pragma"/>
    <meta content="0" http-equiv="Expires"/>
    <link href="images/icons/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
    <link href="images/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
    <link href="images/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
</head>
<body>
<div class="row showsidebar welcomemode" id="app">
    <div id="sidebar">
        <div class="row" style="margin-bottom: -8px; z-index: 1;">
            <div class="buttonsquare home" id="homebutton" onclick="home()"
                 style="float: left; margin: 4px 0 0 4px;"></div>
            <div class="buttonsquare collapse" onclick="hideSidebar()" style="float: left; margin: 4px 0 0 7px;"></div>
        </div>
        <div class="welcomehidden" id="sidebaroverworld">
            <div class="row pointer" onclick="sideLoadOverworld()" style="margin-top: 16px;">
                <div class="sidetab sideboss overworldicon" id="sidebossow"></div>
                <div class="sidetab sidesummary" id="sidesummaryow"
                     style="text-align: center; line-height: 30px; font-size: 14pt; color: lime;"></div>
            </div>
            <div class="sidebutton" id="sidebaredit" onclick="showFullOverworldModal('editedges')"
                 style="margin-top: 4px;">Full map
            </div>
            <div class="sidebutton" id="sidebarnew" onclick="showFullOverworldModal('newpath')"
                 style="margin-top: 4px;">New path
            </div>
            <div class="sidebutton" id="sidebarsearch" onclick="showFullOverworldModal('searchpath')"
                 style="margin-top: 4px;">Search
            </div>
        </div>
        <div class="welcomehidden" id="sidebardungeons">
            <div class="row pointer" onclick="sideLoadDungeon(11)" style="margin-top: 16px;">
                <div class="sidetab sideboss boss11" id="sideboss11"></div>
                <div class="sidetab sidesummary" id="sidesummary11"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(0)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss0" id="sideboss0"></div>
                <div class="sidetab sidesummary" id="sidesummary0"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(1)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss1" id="sideboss1"></div>
                <div class="sidetab sidesummary" id="sidesummary1"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(2)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss2" id="sideboss2"></div>
                <div class="sidetab sidesummary" id="sidesummary2"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(12)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss12" id="sideboss12"></div>
                <div class="sidetab sidesummary" id="sidesummary12"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(3)" style="margin-top: 16px;">
                <div class="sidetab sideboss boss3" id="sideboss3"></div>
                <div class="sidetab sidesummary" id="sidesummary3"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(4)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss4" id="sideboss4"></div>
                <div class="sidetab sidesummary" id="sidesummary4"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(5)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss5" id="sideboss5"></div>
                <div class="sidetab sidesummary" id="sidesummary5"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(6)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss6" id="sideboss6"></div>
                <div class="sidetab sidesummary" id="sidesummary6"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(7)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss7" id="sideboss7"></div>
                <div class="sidetab sidesummary" id="sidesummary7"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(8)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss8" id="sideboss8"></div>
                <div class="sidetab sidesummary" id="sidesummary8"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(9)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss9" id="sideboss9"></div>
                <div class="sidetab sidesummary" id="sidesummary9"></div>
            </div>
            <div class="row pointer" onclick="sideLoadDungeon(10)" style="margin-top: 4px;">
                <div class="sidetab sideboss boss10" id="sideboss10"></div>
                <div class="sidetab sidesummary" id="sidesummary10"></div>
            </div>
        </div>
        <div class="row" style="margin-top: auto; margin-bottom: 4px;">
            <div class="buttonsquare settings pointer" id="sidesettings" onclick="sideLoadSettings()"
                 style="float: left; margin: 8px 0 0 4px;"></div>
            <div class="buttonsquare uparrow" onclick="window.scrollTo(0,0)"
                 style="float: left; margin: 8px 0 0 7px;"></div>
        </div>
    </div>
    <div id="main">
        <div class="cell" id="overview" style="width: calc(100% - 8px); margin-left: 4px;">
            <div class="row fixedtop" style="height: 36px;">
                <div class="cell buttonsquare expand nosidebar" onclick="showSidebar()"
                     style="margin: 4px 8px 0 0;"></div>
                <div style="display: inline-block;">
                    <h2 class="textrow" id="overviewtitle"></h2>
                </div>
                <div class="cell rightalign">
                    <div class="cell buttonsquare settings pointer" onclick="loadSettings()"
                         style="margin-top: 4px; margin-right: 8px;"></div>
                </div>
            </div>
            <div class="welcomehidden" style="height: 37px;"></div>
            <div class="row welcomeshown" style="margin-top: 40px; width: 340px;">
                Welcome! This window is used for tracking the overworld layout (Overworld Shuffle) and/or dungeon
                interior layouts (Door Shuffle). Please select the right settings below to start.<br
                    style="margin-bottom: 8px;">
                Or continue a previous session with the buttons at the bottom.
            </div>
            <div class="welcomehidden" id="overviewoverworld">
                <div class="row">
                    <div class="cell pointer dungeon" onclick="loadOverworld()">
                        <div class="boss overworldicon"></div>
                        <div class="summary" id="summaryow"
                             style="text-align: center; line-height: 30px; font-size: 14pt; color: lime;"></div>
                    </div>
                    <div class="cell pointer dungeon" onclick="loadOverworld()">
                        <div style="width: 64px; height: 96px; text-align: center; padding: 10px 0;">Click here to go to
                            Overworld Tracking
                        </div>
                    </div>
                    <div class="cell dungeon" style="width: 134px; height: 98px;">
                        <div class="buttonbox" onclick="showFullOverworldModal('editedges')"
                             style="margin-bottom: 5px;">Full map
                        </div>
                        <div class="buttonbox" id="overviewownewpath" onclick="showFullOverworldModal('newpath')"
                             style="margin-bottom: 5px;">New path
                        </div>
                        <div class="buttonbox" onclick="showFullOverworldModal('searchpath')">Search path</div>
                    </div>
                </div>
            </div>
            <div class="welcomehidden" id="overviewdungeons">
                <div class="row">
                    <div style="float: left; margin-right: clamp(0px,100% - 500px,12px);">
                        <div class="cell pointer dungeon" onclick="loadDungeon(11)">
                            <div class="boss boss11" id="boss11"></div>
                            <div class="summary" id="summary11"></div>
                        </div>
                        <div class="cell pointer dungeon" onclick="loadDungeon(0)">
                            <div class="boss boss0" id="boss0"></div>
                            <div class="summary" id="summary0"></div>
                        </div>
                        <div class="cell pointer dungeon" onclick="loadDungeon(1)">
                            <div class="boss boss1" id="boss1"></div>
                            <div class="summary" id="summary1"></div>
                        </div>
                        <div class="cell pointer dungeon" onclick="loadDungeon(2)">
                            <div class="boss boss2" id="boss2"></div>
                            <div class="summary" id="summary2"></div>
                        </div>
                        <div class="cell pointer dungeon" onclick="loadDungeon(12)">
                            <div class="boss boss12" id="boss12" style="background-size: 64px;"></div>
                            <div class="summary" id="summary12"></div>
                        </div>
                    </div>
                    <div style="float: left;">
                        <div style="float: left;">
                            <div class="cell pointer dungeon" onclick="loadDungeon(3)">
                                <div class="boss boss3" id="boss3"></div>
                                <div class="summary" id="summary3"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(4)">
                                <div class="boss boss4" id="boss4"></div>
                                <div class="summary" id="summary4"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(5)">
                                <div class="boss boss5" id="boss5"></div>
                                <div class="summary" id="summary5"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(6)">
                                <div class="boss boss6" id="boss6"></div>
                                <div class="summary" id="summary6"></div>
                            </div>
                        </div>
                        <div style="float: left;">
                            <div class="cell pointer dungeon" onclick="loadDungeon(7)">
                                <div class="boss boss7" id="boss7"></div>
                                <div class="summary" id="summary7"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(8)">
                                <div class="boss boss8" id="boss8"></div>
                                <div class="summary" id="summary8"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(9)">
                                <div class="boss boss9" id="boss9"></div>
                                <div class="summary" id="summary9"></div>
                            </div>
                            <div class="cell pointer dungeon" onclick="loadDungeon(10)">
                                <div class="boss boss10" id="boss10" style="background-size: 64px;"></div>
                                <div class="summary" id="summary10"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="modesettings" style="width: 340px;">
                <div class="row" style="margin-top: 10px;">
                    <div>
                        <h2 class="textrow">Mode and settings</h2>
                    </div>
                </div>
                <div class="row">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Door Shuffle:</h3>
                    </div>
                    <div class="rightalign">
                        <select id="selectdoorshuffle" onchange="updateDoorShuffle()"
                                style="height: 22px; top: 4px; position: relative; width: 100px;">
                            <option value="N">None</option>
                            <option value="B">Basic</option>
                            <option value="C">Crossed</option>
                        </select>
                        <label style="height: 20px; top: 5px; position: relative;"><input id="lobbyshuffle"
                                                                                          onchange="updateDoorShuffle()"
                                                                                          type="checkbox"/>Lobby
                            Shuffle</label>
                    </div>
                </div>
                <div class="row" id="dungeonoptions">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Exclude from overview:</h3>
                    </div>
                    <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                        <label><input id="excludesmallkeys" onchange="updateKeys()" type="checkbox"/>Small Keys</label>
                        <label><input id="excludebigkeys" onchange="updateKeys()" type="checkbox"/>Big Keys</label>
                    </div>
                </div>
                <div class="row" style="margin-top: 12px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow" style="margin-top: 2px;">Overworld Shuffle:</h3>
                    </div>
                    <div class="rightalign">
                        <div id="overworldmodehelp" style="display: none; vertical-align: top;">
                            <div class="buttonbox blueborder" onclick="showOverworldModeHelpModal()" style="margin: 0;">
                                Mode help
                            </div>
                        </div>
                        <div class="buttonsquare expandsection" id="toggleowmodesection"
                             onclick="toggleOverworldModeSection()"
                             style="margin-left: 4px; display: inline-block;"></div>
                    </div>
                </div>
                <div id="overworldmodesection" style="display: none;">
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow">Layout Shuffle:</h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <select id="layoutshuffle" onchange="updateOverworldShuffle(true)" style="width: 100px;">
                                <option value="N">None</option>
                                <option value="P">Parallel</option>
                                <option value="F">Full</option>
                            </select>
                            <label><input id="whirlpoolshuffle" onchange="updateOverworldShuffle(true)"
                                          type="checkbox"/>Whirlpool Shuffle</label>
                        </div>
                    </div>
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow">Crossed Overworld:</h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <select id="crossedow" onchange="updateOverworldShuffle(true)" style="width: 150px;">
                                <option value="N">None</option>
                                <option value="P">Polar</option>
                                <option value="C">Unrestricted/other</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow" style="height: 20px;">OW options:</h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <label><input id="similarow" onchange="updateOverworldShuffle(true)" type="checkbox"/>Keep
                                Similar</label>
                            <label><input id="swappedow" onchange="updateOverworldShuffle(true)" style="margin-left: 12px;"
                                          type="checkbox"/>Swapped OW (Beta)</label>
                        </div>
                    </div>
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow" style="height: 24px;"></h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <label><input id="terrainow" onchange="updateOverworldShuffle(true)" type="checkbox"/>Free
                                Terrain</label>
                            <span style="margin: 4px 0 4px 12px;">Decoupled OW (Beta):</span>
                            <select id="decoupledow" onchange="updateOverworldShuffle(true)" style="width: 100px;">
                                <option value="N">None</option>
                                <option value="O">One-to-one</option>
                                <option value="C">Chaos</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow">Other OW modes:</h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <label><input id="mixedow" onchange="updateOverworldShuffle(true)" type="checkbox"/>Mixed
                                Overworld</label>
                            <label><input id="fluteshuffle" onchange="updateOverworldShuffle(false)" type="checkbox"/>Flute
                                Shuffle</label>
                        </div>
                    </div>
                    <div class="row welcomeshown">
                        <div style="display: inline-block;">
                            <h3 class="textrow">Customizer:</h3>
                        </div>
                        <div class="rightalign" style="height: 20px; top: 5px; position: relative;">
                            <select id="customizerpreset" style="width: 250px; font-size: 12px;">
                                <option value="none">None/other</option>
                                <option value="vanillahorizontal">Shuffle Vertical (vanilla horiz. edges)</option>
                                <option value="vanillavertical">Shuffle Horizontal (vanilla vert. edges)</option>
                                <option value="vanillalight">Shuffle Dark World (vanilla Light World)</option>
                                <option value="vanilladark">Shuffle Light World (vanilla Dark World)</option>
                                <option value="vanillasmallscreens">Shuffle Large Screens (v. small screens)</option>
                                <option value="vanillalargescreens">Shuffle Small Screens (v. large screens)</option>
                                <option value="vanillaspecialscreens">Vanilla special screens</option>
                            </select>
                            <span id="customizernotsupported" style="display: none;">(Setting not supported with Mixed Overworld)</span>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">World State:</h3>
                    </div>
                    <div class="rightalign">
                        <select id="selectworldstate"
                                onchange="updateOverworldShuffle(true)"
                                style="height: 22px; top: 4px; position: relative; max-width: 88px;">
                            <option value="O">Open</option>
                            <option value="S">Standard</option>
                            <option value="I">Inverted</option>
                            <option value="R">Retro</option>
                        </select>
                        <label style="height: 20px; top: 5px; position: relative;"><input id="entranceenabled"
                                                                                          onchange="updateOverworldShuffle(true)"
                                                                                          type="checkbox"/>Entrance
                            Shuffle</label>
                        <div class="buttonbox small dense" id="changeworldstateentrance"
                             onclick="changeMainTrackerSettings()"
                             style="float: right; margin-top: 5px; margin-left: 8px;">Edit
                        </div>
                    </div>
                </div>
                <div class="row welcomehidden" id="overworldoptionsfinalbox" style="margin-top: 4px;">
                    <div class="textrow" style="padding: 0 4px; margin-top: 2px; margin-bottom: 0;">
                        When all mode-related settings are final, some transitions can be deduced from the mode and
                        already marked things.
                    </div>
                    <div class="row" style="display: flex;">
                        <div class="buttonbox" onclick="showAutoAdjustModal()" style="flex-grow: 1;">What would be
                            affected?
                        </div>
                        <div class="buttonbox greenborder" onclick="vanillaTransitionsMode(null)"
                             style="margin-left: 0;">Accept changes
                        </div>
                        <div class="buttonbox redborder" onclick="hideFinalBox()" style="margin-left: 0;">Decline</div>
                    </div>
                </div>
                <div class="row" id="syncsectiontitle" style="margin-top: 12px;">
                    <div style="display: inline-block;">
                        <h2 class="textrow" style="margin: 0;">Sync with main tracker window</h2>
                    </div>
                    <div class="rightalign">
                        <div id="synchelp" style="display: none; vertical-align: top;">
                            <div class="buttonbox blueborder" onclick="showOverworldModeHelpModal()" style="margin: 0;">
                                Mode help
                            </div>
                        </div>
                        <div class="buttonbox blueborder" onclick="showGlobalSyncInfo()"
                             style="margin-top: 1px; margin-right: 0;">Info
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 2px;">
                    <h3 class="textrow" id="syncstatus" style="margin: 0;">Status:</h3>
                </div>
                <div id="syncsection">
                    <div class="row" id="overworldglobalsyncbox">
                        <div class="row">
                            <label><input id="globalsync" onchange="updateGlobalSync()" type="checkbox"/>Sync everything
                                (logic, game mode, items and entrances)</label>
                        </div>
                        <div class="row">
                            <label><input id="itemsync" onchange="updateItemSync()" type="checkbox"/>Sync items</label>
                            <div class="rightalign">
                                <label><input id="connectorsync" onchange="updateConnectorSync()" type="checkbox"/>Sync
                                    connector caves</label>
                            </div>
                        </div>
                        <div class="welcomehidden" id="overworldsyncerror" style="display: none;">
                            <div class="row" id="overworldsyncerrortext">
                                This window has been disconnected from the main tracker window. A new connection
                                requires opening a new instance of this window. Make sure to save your tracking progress
                                before closing this window.
                            </div>
                            <div class="row">
                                <div class="buttonbox blueborder" onclick="showSyncErrorInfo()">More information</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row welcomeshown" style="margin-top: 12px;">
                    <div class="buttonbox greenborder" onclick="welcomeStart(true)">Start, mode settings are final</div>
                    <div class="buttonbox greenborder" onclick="welcomeStart(false)">Start, mode settings may change
                    </div>
                    <div class="buttonbox greenborder" onclick="welcomeStartMystery()">Mystery mode (start with least
                        restrictive settings)
                    </div>
                </div>
                <div class="row welcomeshown" style="margin-top: 10px;">
                    <div>
                        <h2 class="textrow">Restore previous session</h2>
                    </div>
                </div>
                <div class="row welcomeshown">
                    <div class="cell buttonbox disabled" id="loadmanualwelcome" onclick="loadManual()"
                         style="margin: 2px;">Load manual save
                    </div>
                    <div class="cell buttonbox disabled" id="loadautowelcome" onclick="loadAuto()" style="margin: 2px;">
                        Load auto save
                    </div>
                    <div class="cell buttonbox" id="loadfilewelcome" onclick="loadFile()" style="margin: 2px;">Load JSON
                        save
                    </div>
                </div>
                <div class="row welcomehidden" style="margin-top: 10px;">
                    <div>
                        <h2 class="textrow">Save and restore</h2>
                    </div>
                </div>
                <div class="row welcomehidden" style="height: 30px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Manual save:</h3>
                    </div>
                    <div class="cell rightalign">
                        <div class="cell buttonbox disabled" id="loadmanual" onclick="loadManual()"
                             style="margin: 2px;">Load data
                        </div>
                        <div class="cell buttonbox" id="savemanual" onclick="saveManual(this)" style="margin: 2px;">Save
                            data
                        </div>
                    </div>
                </div>
                <div class="row welcomehidden" style="height: 30px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Auto-save:</h3>
                    </div>
                    <div class="cell rightalign">
                        <div class="cell buttonbox disabled" id="loadauto" onclick="loadAuto()" style="margin: 2px;">
                            Load data
                        </div>
                        <div class="cell buttonbox" id="saveauto" onclick="saveAuto(null,this)" style="margin: 2px;">
                            Save data
                        </div>
                    </div>
                </div>
                <div class="row welcomehidden" style="height: 30px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">JSON file:</h3>
                    </div>
                    <div class="cell rightalign">
                        <div class="cell buttonbox" id="loadfile" onclick="loadFile()" style="margin: 2px;">Load data
                        </div>
                        <div class="cell buttonbox" id="savefile" onclick="saveFile(this)" style="margin: 2px;">Save
                            data
                        </div>
                    </div>
                </div>
                <div class="row welcomehidden" style="height: 30px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Reset tracking:</h3>
                    </div>
                    <div class="cell rightalign">
                        <div class="cell buttonbox redborder" onclick="clearData()" style="margin: 2px;">Clear current
                            data
                        </div>
                        <div class="cell buttonbox redborder" onclick="clearLocalStorage()" style="margin: 2px;">Delete
                            save data
                        </div>
                    </div>
                </div>
                <div class="row welcomehidden" style="height: 30px;">
                    <div style="display: inline-block;">
                        <h3 class="textrow">Display and behavior:</h3>
                    </div>
                    <div class="cell rightalign">
                        <div class="cell buttonbox redborder" onclick="clearDisplaySettings()" style="margin: 2px;">
                            Reset settings
                        </div>
                        <div class="cell buttonbox pointer" onclick="loadSettings()" style="margin: 2px;">Open
                            settings
                        </div>
                    </div>
                </div>
                <div class="welcomehidden" id="dungeonstats">
                    <div class="row" style="margin-top: 10px;">
                        <div>
                            <h2 class="textrow">Dungeon statistics</h2>
                        </div>
                    </div>
                    <div>
                        <h3 class="textrow" id="totalpathdungeons"></h3>
                    </div>
                    <div>
                        <h3 class="textrow" id="totalpaths"></h3>
                    </div>
                    <div>
                        <h3 class="textrow" id="totalnodes"></h3>
                    </div>
                    <div>
                        <h3 class="textrow" id="totalnotes"></h3>
                    </div>
                </div>
                <div class="row" style="margin-top: 20px; margin-bottom: 4px;">
                    <span>Check out the <a href="instructions.html#dungeon" target="_blank">Instructions</a> for help with this tracker.</span>
                </div>
            </div>
        </div>
        <div class="cell" id="settings" style="width: calc(100% - 8px); margin-left: 4px;">
            <div class="row fixedtop" style="display: flex; height: 36px;">
                <div class="cell buttonsquare expand nosidebar" onclick="showSidebar()"
                     style="margin: 4px 4px 0 0;"></div>
                <div class="cell buttonsquare home pointer" onclick="loadOverview()" style="margin: 4px 8px 0 0;"></div>
                <div class="pointer" onclick="loadOverview()"
                     style="display: inline-block; flex-grow: 1; height: 30px;">
                    <h2 class="textrow" id="settingstitle"
                        style="pointer-events: none; white-space: nowrap; line-height: 26px;">Tracker settings</h2>
                </div>
            </div>
            <div class="row" style="margin-top: 36px; padding-right: 2px; max-width: 600px;">
                <div class="cell buttonbox dense" id="settingstabgeneral" onclick="loadGeneralSettings()">General</div>
                <div class="cell buttonbox dense" id="settingstaboverworld" onclick="loadOverworldSettings()">
                    Overworld
                </div>
                <div class="cell buttonbox dense" id="settingstabdoor" onclick="loadDoorSettings()">Dungeons</div>
            </div>
            <div id="settingsgeneral" style="margin-top: 8px; padding-right: 2px; max-width: 600px;">
                <div class="row" style="margin-top: 8px;">
                    <h3 style="margin: 0;">Appearance</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Theme:</span>
                    <select id="settingstheme" onchange="updateGeneralSettings(); updateTheme()"
                            style="margin-left: 4px;">
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsinvertdirectioncolors" onchange="updateGeneralSettings(); updateTheme()"
                                  type="checkbox">Invert colors on direction
                        symbols</label>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsrounddirections" onchange="updateGeneralSettings(); updateTheme()"
                                  type="checkbox">Use alternate round arrow
                        images</label>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <div style="margin-left: 8px; height: 32px; display: inline-block;">
                        <div class="pathsymbol direction" id="arrowpreview0"
                             style="background-image: url(./images/dungeons/arrowright.png);"></div>
                        <div class="pathsymbol direction" id="arrowpreview1"
                             style="background-image: url(./images/dungeons/arrowrightup.png);"></div>
                        <div class="pathsymbol direction" id="arrowpreview2"
                             style="background-image: url(./images/dungeons/arrowrightdown.png);"></div>
                        <div class="pathsymbol direction" id="arrowpreview3"
                             style="background-image: url(./images/dungeons/quadranttopleft.png);"></div>
                    </div>
                </div>
                <div class="row" style="margin-top: 16px;">
                    <h3 style="margin: 0;">Behavior</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsrestorewindowsize" onchange="updateGeneralSettings()" type="checkbox">Restore
                        previous window size on load</label>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <div class="cell buttonbox redborder" onclick="resetWindowSize()">Reset current window size to
                        default
                    </div>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Default sync with main tracker window (only if launched from main window with Overworld Shuffle active there):</span>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <select id="settingsdefaultsync" onchange="updateGeneralSettings()">
                        <option value="everything">Everything (logic, game mode, items and entrances)</option>
                        <option value="itemsentrances">Only items and entrances</option>
                        <option value="items">Only items</option>
                        <option value="entrances">Only entrances</option>
                        <option value="nothing">Nothing</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsautosavesafety" onchange="updateGeneralSettings()" type="checkbox">Only
                        enable auto-saving 2 minutes after starting</label>
                </div>
                <div class="row" style="margin-top: 4px; font-size: 12px;">
                    <span>This prevents accidental overwriting of auto-save data when the window is refreshed or reopened.</span>
                </div>
            </div>
            <div id="settingsoverworld" style="margin-top: 8px; padding-right: 2px; max-width: 600px;">
                <div class="row" style="margin-top: 8px;">
                    <h3 style="margin: 0;">Full map</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Display flute spots on full map (when flute is active):</span>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <select id="settingsdrawflutespots" onchange="updateOverworldSettings()">
                        <option value="no">No</option>
                        <option value="fluteshuffle">Only when Flute Shuffle is enabled</option>
                        <option value="yes">Yes</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Display common starts (save & quit spots) on full map:</span>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <select id="settingsdrawsavequitspots" onchange="updateOverworldSettings()">
                        <option value="no">No</option>
                        <option value="startshuffle">Only when Entrances or Sanctuary are shuffled</option>
                        <option value="yes">Yes</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingshidetopbar" onchange="updateOverworldSettings()" type="checkbox">When both
                        worlds are visible, hide the top bar containing the "Switch worlds" button and zoom
                        controls</label>
                </div>
                <div class="row" style="margin-top: 4px; font-size: 12px;">
                    <span>If enabled, all settings are still available through the "Edit map view" menu for which the button is replaced by a cogwheel button.</span>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingspreventclickedgescreen" onchange="updateOverworldSettings()"
                                  type="checkbox">Prevent accidental click on a screen instead of
                        an edge when connecting two edges (can still double click to change the selection from an edge
                        to a screen)</label>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsdisableblur" onchange="updateOverworldSettings(); updateTheme()"
                                  type="checkbox">In Mixed, disable the blur effect
                        on unchecked screens</label>
                </div>
                <div class="row" style="margin-top: 4px; font-size: 12px;">
                    <span>The blur effect can cause severe lag in some browsers under some circumstances (like current Firefox version with hardware acceleration disabled).</span>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsdrawunshufflededges" onchange="updateOverworldSettings(); updateTheme()"
                                  type="checkbox">Draw edges even when they are
                        unshuffled</label>
                </div>
                <div class="row" style="margin-top: 4px; font-size: 12px;">
                    <span>If drawn, unshuffled edges will appear semi-transparent.</span>
                </div>
                <div class="row" style="margin-top: 24px;">
                    <h3 style="margin: 0;">Overworld main page</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Number of columns below full map:</span>
                    <select id="settingsmaincolumns" onchange="updateOverworldSettings()" style="margin-left: 4px;">
                        <option value="auto">Auto</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 24px;">
                    <h3 style="margin: 0;">Overworld Path Search</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>When selecting a specific starting screen in an Overworld Path Search, which method of starting should be used by default? (This can be changed through a single click for an individual search.)</span>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <select id="settingssearchstartdefault" onchange="updateOverworldSettings()">
                        <option value="canstartcommon">Or from common</option>
                        <option value="onlystartscreen">Must start here</option>
                        <option value="noflutequit">No flute/quit</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <span id="settingssearchstartdefaulttext"></span>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingssearchmirrorportaldefault" onchange="updateOverworldSettings()"
                                  type="checkbox">By default, also search paths containing a mirror
                        portal</label>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <div class="cell buttonbox redborder" onclick="resetPathZoom()">Reset zoom for overworld paths</div>
                </div>
            </div>
            <div id="settingsdoor" style="margin-top: 8px; padding-right: 2px; max-width: 600px;">
                <div class="row" style="margin-top: 8px;">
                    <h3 style="margin: 0;">Dungeon Path Building</h3>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <span>Number of initially shown room nodes:</span>
                    <select id="settingsimportantroomnodes" onchange="updateDoorSettings()"
                            style="margin-left: 4px; max-width: 100px;">
                        <option value="fewer">Fewer (15)</option>
                        <option value="default">Default (20)</option>
                        <option value="more">More (46)</option>
                    </select>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <span id="settingsimportantroomnodestext"></span>
                </div>
                <div class="row" style="margin-top: 4px;">
                    <div class="cell buttonbox" onclick="showRoomModalPreview()">Show preview for inserting a room
                        node
                    </div>
                </div>
                <div class="row" style="margin-top: 4px; font-size: 12px;">
                    <span>This setting only affects Crossed Door Shuffle. Basic will always display all available room nodes for the current dungeon.</span>
                </div>
                <div class="row" style="margin-top: 8px;">
                    <label><input id="settingsomitforeignsymbols" onchange="updateDoorSettings()" type="checkbox">In
                        Basic, hide symbols for switches and items that are not relevant in the current dungeon</label>
                </div>
            </div>
        </div>
        <div class="cell" id="pathlist" style="width: 100%;">
            <div class="row fixedtop" style="height: 64px; display: flex;">
                <div class="cell nosidebar" style="width: 38px;">
                    <div class="cell buttonsquare home" onclick="closeDungeon()" style="margin: 6px 6px 2px 6px;"></div>
                    <div class="cell buttonsquare expand" onclick="showSidebar()"
                         style="margin: 2px 6px 6px 6px;"></div>
                </div>
                <div class="cell pointer" onclick="closeDungeon()">
                    <div id="dungeonicon"></div>
                </div>
                <div class="cell pointer" onclick="closeDungeon()" style="flex-grow: 1;">
                    <h1 class="scenetitle" id="dungeonname"></h1>
                </div>
            </div>
            <div class="row" style="margin-top: 64px; max-width: 384px;">
                <div style="display: inline-block;">
                    <h3 class="textrow">Start a new path</h3>
                </div>
                <div class="rightalign">
                    <div class="cell" style="height: 20px; top: 5px; position: relative; margin-right: 12px;">
                        <label><input id="showmorerooms" onchange="updateStartRooms()" type="checkbox"/>Show
                            more</label>
                    </div>
                    <div class="cell">
                        <div class="buttonbox pointer" onclick="startPath('')" style="margin: 2px;">Empty start</div>
                    </div>
                </div>
            </div>
            <div class="row roompointer" id="dungeonentrances"></div>
            <div class="row roompointer" id="dungeonimportant"></div>
            <div class="row roompointer" id="dungeonused"></div>
            <div class="row" style="max-width: 384px;">
                <div style="display: inline-block;">
                    <h3 class="textrow" id="dungeonpathsheader"></h3>
                </div>
                <div class="rightalign">
                    <div class="cell">
                        <div class="buttonbox" id="completedbutton" onclick="markCompleted()"
                             style="margin: 2px;"></div>
                    </div>
                </div>
            </div>
            <div class="pathlist" id="dungeonpaths"></div>
            <div class="row">
                <input id="dungeonpathsnote" placeholder="Notes" style="width: calc(100% - 8px); margin: 0px 4px;"
                       type="text"/>
            </div>
        </div>
        <div class="cell" id="pathedit" style="width: 100%;">
            <div class="row fixedtop">
                <div class="row" style="max-width: 384px;">
                    <div class="cell buttonsquare expand nosidebar" onclick="showSidebar()"
                         style="margin: 4px 4px 0 4px;"></div>
                    <div class="cell">
                        <div class='buttonbox pointer redborder' onclick="closePath()">Close without saving</div>
                    </div>
                    <div class="cell rightalign">
                        <div class='buttonbox pointer greenborder' onclick="savePath()">Save and close path</div>
                    </div>
                </div>
                <div class="row">
                    <div>
                        <h3 class="textrow" id="currentpathheader"></h3>
                    </div>
                </div>
                <div class="row path" id="currentpath"></div>
            </div>
            <div class="row" style="margin-top: 128px; max-width: 384px;">
                <div class="cell" id="directionicons"
                     style="position: relative; width: 160px; height: 160px; margin: 8px;"></div>
                <div style="display: flex; flex-flow: column; width: 160px; height: 176px; float: right;">
                    <div class="row" style="height: 34px;">
                        <div class='cell buttonbox redborder rightalign' id="deletebutton" onclick="removeLast()">Delete
                            last step
                        </div>
                    </div>
                    <div class="row" style="height: 34px;">
                        <div class='cell buttonbox yellowborder rightalign' id="forkbutton" onclick="forkPath()">Fork at
                            last direction
                        </div>
                    </div>
                    <div style="flex-grow: 1;"></div>
                    <div class="row" style="height: 34px; margin-bottom: 4px;">
                        <div class="cell rightalign">
                            <div class='cell buttonbox' onclick="showRoomModal()">Insert room node</div>
                            <div class='cell buttonbox blueborder' onclick="showHintModal()">Hints</div>
                        </div>
                    </div>
                    <div class="row" style="margin-left: auto; margin-right: 0; width: auto;">
                        <div class="row" id="objecticons"></div>
                    </div>
                    <div class="row" style="margin-left: auto; margin-right: 0; width: auto;">
                        <div class="row" id="switchicons" style="height: 32px;"></div>
                    </div>
                </div>
            </div>
            <div class="row" id="itemicons"></div>
            <div class="row" id="bossicons"></div>
            <div class="row">
                <div>
                    <h3 class="textrow" id="dungeonpaths2header"></h3>
                </div>
            </div>
            <div class="pathlist" id="dungeonpaths2"></div>
        </div>
        <div class="cell" id="owmain" style="width: 100%;">
            <div class="row fixedtop" style="height: 64px; display: flex;">
                <div class="cell nosidebar" style="width: 38px;">
                    <div class="cell buttonsquare home" onclick="closeOverworld()"
                         style="margin: 6px 6px 2px 6px;"></div>
                    <div class="cell buttonsquare expand" onclick="showSidebar()"
                         style="margin: 2px 6px 6px 6px;"></div>
                </div>
                <div class="cell pointer" onclick="closeOverworld()">
                    <div class="boss overworldicon" id="owicon"></div>
                </div>
                <div class="cell pointer" onclick="closeOverworld()" style="flex-grow: 1;">
                    <h1 class="scenetitle" id="owname">Overworld Tracking</h1>
                </div>
            </div>
            <div class="row" id="fullowmaintitlebar" style="margin-top: 64px; max-width: 1536px; display: flex;">
                <div class="cell" style="flex-grow: 1;">
                    <h2 class="textrow" style="margin: 2px 4px 0 0;">Full overworld map</h2>
                </div>
                <div class="cell buttonsquare settings" id="fullowmainsettingsbutton" onclick="showEditMapModeModal(true)"
                     style="margin: 4px 4px 0 0;"></div>
                <div class="buttonbox" onclick="showFullOverworldModal('editedges')" style="margin: 4px 4px 0 0;">
                    Popout
                </div>
                <div class="cell buttonsquare collapsesection" id="togglefullowmain" onclick="toggleFullOverworldMain()"
                     style="margin: 4px 4px 0 0;"></div>
            </div>
            <div id="fullowmainpage" style="max-width: 1536px; display: block;">
                <div class="row" id="fullowmainsettingsbar">
                    <div class="cell">
                        <div class="buttonbox" id="mainswitchow" onclick="switchFullOverworldMain()">Switch worlds</div>
                    </div>
                    <div class="cell">
                        <div class="buttonbox" id="maineditmapmode" onclick="showEditMapModeModal(true)"
                             style="margin-right: 4px;">Edit map view
                        </div>
                    </div>
                    <div class="rightalign">
                        <div class="cell">
                            <span style="top: 7px; margin-right: 8px; position: relative;"><input id="mainzoomautoow"
                                                                                                  onchange="zoomAutoFullOverworldMain(this)"
                                                                                                  type="checkbox"/><label
                                    for="mainzoomautoow" id="mainzoomautoowtext">Auto zoom</label></span>
                        </div>
                        <div class="cell">
                            <div class="buttonsquare minus" id="mainzoomoutow" onclick="zoomOutFullOverworldMain()"
                                 style="margin: 4px 0;"></div>
                        </div>
                        <div class="cell">
                            <div class="buttonsquare plus" id="mainzoominow" onclick="zoomInFullOverworldMain()"></div>
                        </div>
                    </div>
                </div>
                <div class="row" id="fullowmainpanelrow">
                    <div class="fullowpanel clickedges" id="fullowmainpanel">
                        <div id="fullowmainpanelmain" style="position: absolute;"></div>
                        <div id="fullowmainpanelpathoverlay"
                             style="position: absolute; pointer-events: none; z-index: 3;"></div>
                        <div id="fullowmainpaneloverlay"
                             style="position: absolute; pointer-events: none; z-index: 6;"></div>
                    </div>
                </div>
                <div id="fullowmainscreenactions" style="display: none;">
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow" id="fullowmainscreenname" style="margin-left: 4px;"></h3>
                        </div>
                        <div class="rightalign" style="margin-right: 2px;">
                            <div class="cell buttonbox dense pointer" id="fullowmainnewpath"
                                 onclick="fullOverworldNewPath()">New path
                            </div>
                            <div class="cell buttonbox dense pointer" id="fullowmainsearch"
                                 onclick="fullOverworldSearch()">Search path
                            </div>
                            <div class="cell buttonbox dense" id="fullowmainnewconnector"
                                 onclick="fullOverworldNewConnector()">New connector
                            </div>
                        </div>
                    </div>
                    <div class="row" id="fullowmainmixedactions" onmouseout="hoverMixedGroup(false)"
                         onmouseover="hoverMixedGroup(true)">
                        <div style="display: inline-block;">
                            <span class="textrow" id="fullowmainmixedscreenstate"
                                  style="line-height: 26px; margin-left: 4px;"></span>
                        </div>
                        <div class="rightalign" style="margin-right: 2px;">
                            <div class="cell buttonbox small dense redborder" id="fullowmainunknownstate"
                                 onclick="fullOverworldUnknownState()">Reset
                            </div>
                            <div class="cell buttonbox small dense" id="fullowmainswapscreen"
                                 onclick="fullOverworldSwapScreen(this,false)">Flip
                            </div>
                            <div class="cell buttonbox small dense" id="fullowmainswapscreenwithedges"
                                 onclick="fullOverworldSwapScreen(this,true)">Flip, keep edge worlds
                            </div>
                        </div>
                    </div>
                    <div class="row" id="fullowmainregionlist" style="margin-right: 2px; margin-bottom: 2px;"></div>
                </div>
                <div class="row" id="fullowmainedgeactions" style="display: none;">
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow" id="fullowmainedgename" style="margin-left: 4px;"></h3>
                        </div>
                        <div class="rightalign" style="margin-right: 2px;">
                            <div class="cell buttonbox dense" id="fullowmainedgeloop" onclick="fullOverworldLoopEdge()">
                                Self-loop
                            </div>
                            <div class="cell buttonbox dense" id="fullowmainedgedeselect"
                                 onclick="fullOverworldDeselectEdge()">Deselect
                            </div>
                        </div>
                    </div>
                    <div id="fullowmainedgecoupled" style="display: none;">
                        <div class="row">
                            <div style="display: inline-block;">
                                <span class="textrow" id="fullowmainedgetext" style="margin-left: 4px;"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div style="float: left; margin-right: 4px;">
                                <h3 class="textrow" style="margin-left: 4px;">To:</h3>
                            </div>
                            <div style="float: left;">
                                <span class="textrow" id="fullowmainedgecoupledtext"
                                      style="margin-right: 4px; line-height: 30px;">(No destination set)</span>
                            </div>
                            <div class="cell buttonbox dense" id="fullowmainedgecoupledname"
                                 onclick="fullOverworldSelectEdgeOut()" onmouseout="clearFullOverlay(true)"></div>
                            <div class="rightalign" style="margin-right: 2px;">
                                <div class="cell buttonbox dense redborder" id="fullowmainedgecoupleddelete"
                                     onclick="fullOverworldDeleteConnectionAll()" onmouseout="clearFullOverlay(true)">
                                    Disconnect
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="fullowmainedgedecoupled" style="display: none;">
                        <div class="row">
                            <div style="float: left; margin-right: 4px;">
                                <h3 class="textrow" style="margin-left: 4px;">To:</h3>
                            </div>
                            <div style="float: left;">
                                <span class="textrow" id="fullowmainedgedecoupledouttext"
                                      style="margin-right: 4px; line-height: 30px;">(Click another edge to set destination)</span>
                            </div>
                            <div class="cell buttonbox dense" id="fullowmainedgedecoupledoutname"
                                 onclick="fullOverworldSelectEdgeOut()" onmouseout="clearFullOverlay(true)"></div>
                            <div class="rightalign" style="margin-right: 2px;">
                                <div class="cell buttonbox dense redborder" id="fullowmainedgedecoupledoutdelete"
                                     onclick="fullOverworldDeleteConnectionOut()" onmouseout="clearFullOverlay(true)">
                                    Disconnect
                                </div>
                            </div>
                        </div>
                        <div class="row" id="fullowmainedgedecoupledinonerow">
                            <div style="float: left; margin-right: 4px;">
                                <h3 class="textrow" style="margin-left: 4px;">From:</h3>
                            </div>
                            <div style="float: left;">
                                <span class="textrow" id="fullowmainedgedecoupledinonetext"
                                      style="margin-right: 4px; line-height: 30px;">(No edge set that leads here)</span>
                            </div>
                            <div class="cell buttonbox dense" id="fullowmainedgedecoupledinonename"
                                 onclick="fullOverworldSelectEdgeIn(0)" onmouseout="clearFullOverlay(true)"></div>
                            <div class="rightalign" style="margin-right: 2px;">
                                <div class="cell buttonbox dense redborder" id="fullowmainedgedecoupledinonedelete"
                                     onclick="fullOverworldDeleteConnectionAllIn()" onmouseout="clearFullOverlay(true)">
                                    Disconnect
                                </div>
                            </div>
                        </div>
                        <div class="row" id="fullowmainedgedecoupledinrow">
                            <div style="float: left; margin-right: 4px;">
                                <h3 class="textrow" style="margin-left: 4px;">From:</h3>
                            </div>
                            <div style="float: left;">
                                <span class="textrow" id="fullowmainedgedecoupledintext"
                                      style="margin-right: 4px; line-height: 30px;"></span>
                            </div>
                            <div id="fullowmainedgedecoupledinbuttons"></div>
                            <div class="rightalign" style="margin-right: 2px;">
                                <div class="cell buttonbox dense redborder" id="fullowmainedgedecoupledindelete"
                                     onclick="fullOverworldDeleteConnectionAllIn()" onmouseout="clearFullOverlay(true)">
                                    Disconnect all
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="fullowmainconnectoractions" style="display: none;">
                    <div style="display: inline-block;">
                        <h3 class="textrow" style="margin-left: 4px;">Click on the connector end screen</h3>
                    </div>
                    <div class="rightalign">
                        <div class="cell buttonbox" onclick="fullOverworldCancelConnector()">Cancel</div>
                    </div>
                </div>
                <div id="fullowmainunknownconnector" style="display: none;">
                    <div class="row">
                        <div style="border-top: 2px solid yellow; margin: 12px 4px 0 4px; padding-top: 4px;">Recent
                            connector with missing direction detail:
                        </div>
                    </div>
                    <div class="row">
                        <h3 id="fullowmainunknownconnectortext" style="margin: 0 4px 0 4px;"></h3>
                    </div>
                    <div class="row">
                        <div class="cell buttonbox" onclick="fullConnectorOneWay()">Only one direction</div>
                        <div class="cell buttonbox" onclick="fullConnectorTwoWay()">Both directions</div>
                    </div>
                </div>
                <div id="fullowmainpathactions" style="display: none;">
                    <div class="row">
                        <div style="display: inline-block;">
                            <h3 class="textrow" style="margin-left: 2px;">Attached path:</h3>
                        </div>
                        <div class="rightalign">
                            <div class="cell" id="fullowmainsavepath">
                                <div class="buttonbox dense greenborder" onclick="fullOverworldSavePath(this)">Pin</div>
                            </div>
                            <div class="cell" id="fullowmainrepeatsearch">
                                <div class="buttonbox dense" onclick="fullOverworldRepeatSearch()">Repeat search</div>
                            </div>
                            <div class="cell" id="fullowmaindeletepath">
                                <div class="buttonbox dense redborder" onclick="fullOverworldDeletePath()">Detach from
                                    map
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row path" id="fullowmainhighlightedpath" onclick="fullOverworldToggleCompactPath()"
                         style="transform-origin: 0 0;">
                    </div>
                </div>
            </div>
            <div id="owmaincolumncontainer" style="margin-top: 8px;">
                <div id="owmaincolumn0">
                    <div class="row" style="margin-top: 8px; max-width: 450px; display: flex;">
                        <div class="cell" style="flex-grow: 1;">
                            <h3 class="textrow" style="margin: 2px 4px 4px 0; line-height: 30px;">Tracking transitions
                                and screen flips</h3>
                        </div>
                        <div class="cell buttonsquare collapsesection" id="toggleowmaintable"
                             onclick="toggleOverworldMainTable()" style="margin: 4px 4px 0 0;"></div>
                    </div>
                    <table class="maintable" id="owmaintable" style="max-width: 450px;">
                        <tr>
                            <td style="width: 120px;">
                                <div class="buttonbox big" onclick="showFullOverworldModal('editedges')">Full map</div>
                                <label class="centercheckbox"><input id="owsidebaredit" onchange="updateSidebarElements()"
                                                                     type="checkbox"/>In
                                    sidebar</label>
                            </td>
                            <td>
                                Opens a full map popout with all screens and transitions. Connect individual
                                transitions, delete wrong ones, or click on a screen to get more options.
                            </td>
                        </tr>
                        <tr id="owmaintablenewpath">
                            <td>
                                <div class="buttonbox big" onclick="showFullOverworldModal('newpath')">New path</div>
                                <label class="centercheckbox"><input id="owsidebarnew" onchange="updateSidebarElements()"
                                                                     type="checkbox"/>In
                                    sidebar</label>
                            </td>
                            <td>
                                Select a screen, from that screen select a transition, then the next screen and so on.
                                Alternative for connecting transitions with larger buttons, but more clicking.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="buttonbox big" onclick="showFullOverworldModal('searchpath')">Search path
                                </div>
                                <label class="centercheckbox"><input id="owsidebarsearch" onchange="updateSidebarElements()"
                                                                     type="checkbox"/>In
                                    sidebar</label>
                            </td>
                            <td>
                                Finds known paths to a specific screen. Paths start from the default starting locations
                                customizable below or from a selected screen.
                            </td>
                        </tr>
                    </table>
                    <div class="row" id="owmaintablemini" style="display: none;">
                        <div class="buttonbox big cell" onclick="showFullOverworldModal('editedges')">Full map</div>
                        <div class="buttonbox big cell" id="owmaintablemininewpath"
                             onclick="showFullOverworldModal('newpath')">New path
                        </div>
                        <div class="buttonbox big cell" onclick="showFullOverworldModal('searchpath')">Search path</div>
                    </div>
                    <div class="row topmargin" id="overworlditems" style="max-width: 400px;">
                        <div style="display: inline-block;">
                            <h3 class="textrow">Items</h3>
                        </div>
                        <div class="rightalign">
                            <div class="cell buttonbox small pointer" onclick="openSyncSettings()"
                                 style="margin-top: 5px;">Change sync
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cell item" id="itemmoonpearl"
                             onclick="toggleItem('moonpearl')"
                             style="background-image: url(./images/items/moonpearl.png);"></div>
                        <div class="cell item" id="itemgloves" onclick="toggleItem('gloves')"></div>
                        <div class="cell item" id="itemhammer" onclick="toggleItem('hammer')"
                             style="background-image: url(./images/items/hammer.png);"></div>
                        <div class="cell item" id="itemhookshot"
                             onclick="toggleItem('hookshot')"
                             style="background-image: url(./images/items/hookshot.png);"></div>
                        <div class="cell item" id="itemflippers"
                             onclick="toggleItem('flippers')"
                             style="background-image: url(./images/items/flippers.png);"></div>
                        <div class="cell item" id="itemmirror" onclick="toggleItem('mirror')"
                             style="background-image: url(./images/items/mirror.png);"></div>
                        <div class="cell item" id="itemflute" onclick="toggleItem('flute')"
                             style="background-image: url(./images/items/flute.png);"></div>
                        <div class="cell item" id="itemboots" onclick="toggleItem('boots')"
                             style="background-image: url(./images/items/boots.png);"></div>
                        <div class="cell item" id="itembook" onclick="toggleItem('book')"
                             style="background-image: url(./images/items/book.png);"></div>
                        <div class="cell item" id="itemlantern"
                             onclick="toggleItem('lantern')"
                             style="background-image: url(./images/items/lantern.png);"></div>
                        <div class="cell item" id="itemagahnim" onclick="toggleItem('agahnim')"></div>
                    </div>
                    <div class="row">
                        <label><input id="activeflutebox" onchange="toggleActiveFlute()" type="checkbox"/>Flute is
                            active and usable (once obtained)</label>
                    </div>
                    <div id="dungeonconnectorsdefault" style="margin-top: 4px;">
                        <div class="row">
                            <label><input id="connectortr" onchange="toggleConnector(this)" type="checkbox"/>Can get
                                from TR Front to other exit</label><label><input id="connectortrback" onchange="toggleConnector(this)"
                                                                                 type="checkbox"/>From
                            Back to Front</label>
                        </div>
                        <div class="row">
                            <label><input id="connectorhccsanc" onchange="toggleConnector(this)" type="checkbox"/>Can
                                get from HC Courtyard to Sanctuary</label>
                        </div>
                    </div>
                    <div id="dungeonconnectorsdoors">
                        <div class="row">
                            <label><input id="connectorhcchcb" onchange="toggleConnector(this)" type="checkbox"/>Can get
                                from HC Courtyard to HC Balcony</label>
                        </div>
                        <div class="row">
                            <label><input id="connectorboesanc" onchange="toggleConnector(this)" type="checkbox"/>Can
                                get from Back of Escape to Sanctuary</label>
                        </div>
                        <div class="row">
                            <label><input id="connectorboehcb" onchange="toggleConnector(this)" type="checkbox"/>Can get
                                from Back of Escape to HC Balcony</label><label><input id="connectorboehcc"
                                                                                       onchange="toggleConnector(this)"
                                                                                       type="checkbox"/>HC
                            Courtyard</label>
                        </div>
                        <div class="row">
                            <label><input id="connectorsanchcb" onchange="toggleConnector(this)" type="checkbox"/>Can
                                get from Sanctuary to HC Balcony</label><label><input id="connectorsanchcc"
                                                                                      onchange="toggleConnector(this)"
                                                                                      type="checkbox"/>HC
                            Courtyard</label>
                        </div>
                    </div>
                    <div id="owentrancecontainer">
                        <div class="row topmargin" style="max-width: 400px;">
                            <h3 class="cell textrow" id="owconnectorlisttext"></h3>
                            <div class="rightalign">
                                <div class="cell buttonbox small pointer" onclick="openSyncSettings()"
                                     style="margin-top: 5px;">Change sync
                                </div>
                                <div class="cell buttonbox rightalign" id="owmainaddconnector" onclick="if(!document.getElementById('connectorsync').checked) showFullOverworldModal('editedges')"
                                     style="margin-top: 2px;">
                                    Add connector
                                </div>
                            </div>
                        </div>
                        <div id="owentranceconnectors"></div>
                    </div>
                </div>
                <div id="owmaincolumn1">
                    <div class="row topmargin">
                        <input id="owpathsnote" onchange="updateOverworldNotes()" placeholder="Notes"
                               style="width: calc(100% - 8px); margin: 0px 4px;" type="text"/>
                    </div>
                    <div class="row topmargin" id="commonstartinglocations" style="max-width: 400px;">
                        <h3 class="cell textrow">Common starting locations</h3>
                        <div class="cell buttonbox rightalign" onclick="showFullOverworldModal('editedges')"
                             style="margin-top: 2px;">Add location
                        </div>
                    </div>
                    <div class="row">
                        Note: This location list is used both by the logic and the search feature. Only put locations
                        here that are both accessible and quick/common to get to (like save & quit starting points)!
                        Flute spots are always included (once flute is usable).
                    </div>
                    <div class="row">
                        <input id="pinnedlinkshouse" onchange="updateDefaultStartRegions()" type="checkbox"/><label
                            for="pinnedlinkshouse"></label>
                        <input id="pinnedsanctuary" onchange="updateDefaultStartRegions()" type="checkbox"/><label
                            for="pinnedsanctuary"></label>
                        <input id="pinnedoldman" onchange="updateDefaultStartRegions()" type="checkbox"/><label
                            for="pinnedoldman"></label>
                        <input id="pinnedpyramid" onchange="updateDefaultStartRegions()" type="checkbox"/><label
                            for="pinnedpyramid"></label>
                    </div>
                    <div id="owstartregions"></div>
                    <div class="row topmargin" id="owfluteshufflerow" style="max-width: 400px;">
                        <h3 class="cell textrow">Flute Shuffle</h3>
                        <div class="cell buttonbox rightalign" onclick="editFluteSpots()" style="margin-top: 2px;">Edit
                            flute spots
                        </div>
                    </div>
                    <div class="row topmargin" style="max-width: 400px;">
                        <div style="display: inline-block; top: 2px; position: relative;">
                            <h3 class="textrow" id="owpinnedtext"></h3>
                        </div>
                        <div class="rightalign">
                            <div class="cell" style="height: 20px; top: 7px; position: relative; margin-right: 8px;">
                                <label><input id="compactpinned" onchange="updateMainPathLists()" type="checkbox"/>Compact
                                    view</label>
                            </div>
                            <div class="cell">
                                <div class="buttonsquare minus" id="zoomoutowpathpinned" onclick="zoomOutOverworldPath()"
                                     style="margin: 4px 0;"></div>
                            </div>
                            <div class="cell">
                                <div class="buttonsquare plus" id="zoominowpathpinned"
                                     onclick="zoomInOverworldPath()"></div>
                            </div>
                        </div>
                    </div>
                    <div class="pathlist" id="owpinnedpaths"></div>
                    <div id="owpreviouspathscontainer">
                        <div class="row topmargin" style="max-width: 400px;">
                            <div style="display: inline-block; top: 2px; position: relative;">
                                <h3 class="textrow" id="owprevioustext"></h3>
                            </div>
                            <div class="rightalign">
                                <div class="cell"
                                     style="height: 20px; top: 7px; position: relative; margin-right: 8px;">
                                    <label><input id="compactprevious" onchange="updateMainPathLists()"
                                                  type="checkbox"/>Compact view</label>
                                </div>
                                <div class="cell">
                                    <div class="buttonsquare minus" id="zoomoutowpathprevious" onclick="zoomOutOverworldPath()"
                                         style="margin: 4px 0;"></div>
                                </div>
                                <div class="cell">
                                    <div class="buttonsquare plus" id="zoominowpathprevious"
                                         onclick="zoomInOverworldPath()"></div>
                                </div>
                            </div>
                        </div>
                        <div class="pathlist" id="owpreviouspaths"></div>
                    </div>
                    <div id="owautomatictransitions" style="max-width: 400px;">
                        <div class="row topmargin" style="max-width: 400px;">
                            <div style="display: inline-block;">
                                <h3 class="textrow">Automatic or vanilla transitions</h3>
                            </div>
                            <div class="rightalign">
                                <div class="cell buttonbox small pointer" onclick="openModeSettings()"
                                     style="margin-top: 5px;">Change mode
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="buttonbox" onclick="showAutoAdjustModal()">Check for mode-specific transition
                                adjustments
                            </div>
                        </div>
                        <div class="row" id="owbulkactionsrow">
                            <div class="buttonbox" onclick="showBulkActionsModal()" style="margin-top: 0;">Bulk
                                transition actions
                            </div>
                        </div>
                        <div class="row">
                            <div class="buttonbox" onclick="saveCustomizerYAML()" style="margin-top: 0;">Export marked
                                states and transitions as Customizer YAML
                            </div>
                        </div>
                        <div class="row">
                            <div class="buttonbox redborder" onclick="clearStatesAndEdges(this)" style="margin-top: 0;">
                                Delete all marked screen states and transitions
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top: 20px; margin-bottom: 4px;">
                <span>Check out the <a href="instructions.html#overworld" target="_blank">Instructions</a> for help with this tracker.</span>
            </div>
        </div>
        <div class="cell" id="owpathedit" style="width: 100%;">
            <div class="row fixedtop">
                <div class="row" style="max-width: 384px;">
                    <div class="cell buttonsquare expand nosidebar" onclick="showSidebar()"
                         style="margin: 4px 4px 0 4px;"></div>
                    <div class="cell">
                        <div class='buttonbox redborder pointer' onclick="closeOverworldPath()">Close without saving
                        </div>
                    </div>
                    <div class="cell rightalign">
                        <div class='buttonbox greenborder pointer' onclick="saveOverworldPath()">Save and close path
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div>
                        <h3 class="textrow" id="owcurrentpathheader"></h3>
                    </div>
                </div>
                <div class="row" style="height: 64px">
                    <div class="leftfadeout" id="owfadeout"></div>
                    <div class="path" id="owcurrentpath" style="position: absolute;"></div>
                </div>
            </div>
            <div class="row" style="margin-top: 128px; max-width: 384px;">
                <div class="cell" id="owdirectionicons"
                     style="position: relative; width: 320px; height: 160px; margin: 8px;"></div>
            </div>
            <div class="row" style="max-width: 384px;">
                <div class="rightalign">
                    <div class="cell buttonbox redborder rightalign" id="owdeletebutton"
                         onclick="removeLastOverworld()">Delete last step
                    </div>
                    <div class="cell buttonbox yellowborder rightalign" id="owforkbutton" onclick="forkOverworldPath()">
                        Fork at last direction
                    </div>
                </div>
            </div>
            <div class="row" style="max-width: 384px;">
                <label><input id="alwaysfollowmarked" type="checkbox"/>When next transition is already known, follow it</label>
            </div>
        </div>
        <div class="cell" id="owsearch" style="width: 100%;">
            <div class="row fixedtop" style="display: flex; height: 32px;">
                <div class="cell buttonsquare expand nosidebar" onclick="showSidebar()"
                     style="margin: 4px 8px 0 4px;"></div>
                <div class="cell buttonsquare owicon pointer" onclick="loadOverworld()"
                     style="margin: 4px 8px 0 0;"></div>
                <div class="pointer" onclick="loadOverworld()"
                     style="display: inline-block; flex-grow: 1; height: 30px;">
                    <h2 class="textrow" id="owsearchtitle"
                        style="pointer-events: none; white-space: nowrap; line-height: 26px;">Overworld Path Search</h2>
                </div>
                <div class="cell buttonbox yellowborder" onclick="showFullOverworldModal('searchpath')"
                     style="margin: 4px 4px 0 8px;">New search
                </div>
            </div>
            <div class="row" style="margin-top: 32px; padding-right: 2px; max-width: 600px; display: flex;">
                <div class="cell buttonbox yellowborder" onclick="searchContinueFromTarget()">Continue from target</div>
                <div class="cell buttonbox disabled" id="owsearchswapbutton" onclick="searchSwapStartTarget()">Swap
                    start and target
                </div>
            </div>
            <div class="row" style="padding-right: 2px; max-width: 600px; display: flex;">
                <div style="flex-grow: 1;">
                    <div class="row" onclick="showFullOverworldModal('searchpathstart')"
                         style="display: flex; user-select: none;">
                        <h3 class="textrow" id="owsearchstartscreenname"
                            style="flex-grow: 1; line-height: 24px; margin-bottom: 2px;"></h3>
                        <div class="buttonbox dense orangeborder" id="owsearchstartbutton"
                             onclick="showFullOverworldModal('searchpathstart')"></div>
                    </div>
                    <div class="row" id="owsearchstartregionchoice"></div>
                    <div class="row" id="owsearchstartcommonchoice" style="margin-top: 4px;">
                        <div class="cell buttonbox dense"
                             id="owsearchcanstartcommon"
                             onclick="searchCanStartCommon(); searchOverworldPath(false,false)">Or from common
                        </div>
                        <div class="cell buttonbox dense"
                             id="owsearchonlystartscreen"
                             onclick="searchOnlyStartScreen(); searchOverworldPath(false,false)">Must start here
                        </div>
                        <div class="cell buttonbox dense" id="owsearchnoflutequit"
                             onclick="searchNoFluteQuit(); searchOverworldPath(false,false)">No flute/quit
                        </div>
                    </div>
                </div>
                <div class="smallowscreenpanel" id="owsearchstartpanel" onclick="showFullOverworldModal('searchpathstart')"
                     style="flex-shrink: 0;"></div>
            </div>
            <div class="row" style="margin-top: 4px; padding-right: 2px; max-width: 600px; display: flex;">
                <div style="flex-grow: 1;">
                    <div class="row" onclick="showFullOverworldModal('searchpathtarget')"
                         style="display: flex; user-select: none;">
                        <h3 class="textrow" id="owsearchtargetscreenname"
                            style="flex-grow: 1; line-height: 24px; margin-bottom: 2px;"></h3>
                        <div class="buttonbox dense orangeborder" id="owsearchtargetbutton">Change</div>
                    </div>
                    <div class="row" id="owsearchtargetregionchoice"></div>
                </div>
                <div class="smallowscreenpanel" id="owsearchtargetpanel" onclick="showFullOverworldModal('searchpathtarget')"
                     style="flex-shrink: 0;"></div>
            </div>
            <div class="row" style="margin-top: 4px; max-width: 600px; display: flex;">
                <h3 class="textrow" style="flex-grow: 1; line-height: 24px;">Options:</h3>
                <label style="line-height: 30px; margin-right: 16px;"><input id="owsearchmirrorportals" onchange="searchOverworldPath(false,false)"
                                                                             type="checkbox"/>Mirror
                    portal</label>
                <div style="line-height: 30px;">
                    <span class="textrow">Follower:</span>
                </div>
                <select id="owsearchfollower" onchange="searchOverworldPath(false,false)"
                        style="margin: 4px; width: 120px;">
                    <option value="none">None</option>
                    <option value="oldman">Old Man</option>
                    <option value="smithfrog">Smith/Frog</option>
                    <option value="smithfrognosq">Smith (no S&Q)</option>
                    <option value="purplechest">Purple Chest</option>
                    <option value="redbomb">Red Bomb</option>
                </select>
            </div>
            <div class="row" style="max-width: 600px;">
                <div class="rightalign">
                    <label><input id="owsearchkeepmirrorportal" onchange="searchOverworldPath(false,false)"
                                  type="checkbox"/>Must preserve mirror portal</label>
                    <label style="margin-left: 16px; margin-right: 4px;"><input id="owsearchignoreitemrules"
                                                                                onchange="searchOverworldPath(false,false)"
                                                                                type="checkbox"/>Ignore
                        item rules</label>
                </div>
            </div>
            <div class="row" style="margin-top: 8px; max-width: 600px;">
                <div style="display: inline-block; top: 2px; position: relative;">
                    <h3 class="textrow" id="owsearchresultstext">Search results</h3>
                </div>
                <div class="rightalign">
                    <div class="cell" style="height: 20px; top: 7px; position: relative; margin-right: 8px;">
                        <label><input id="compactsearchresults" onchange="updateSearchResults()" type="checkbox"/>Compact
                            view</label>
                    </div>
                    <div class="cell">
                        <div class="buttonsquare minus" id="zoomoutowpathsearch" onclick="zoomOutOverworldPath()"
                             style="margin: 4px 0;"></div>
                    </div>
                    <div class="cell">
                        <div class="buttonsquare plus" id="zoominowpathsearch" onclick="zoomInOverworldPath()"
                             style="margin: 4px 0 4px 4px;"></div>
                    </div>
                    <div class="cell">
                        <div class="buttonbox" onclick="searchOverworldPath(false,false); buttonFlash(this)">Refresh
                        </div>
                    </div>
                </div>
            </div>
            <div class="pathlist" id="owsearchresults"></div>
            <div class="row" style="margin-top: 16px; max-width: 600px; display: flex;">
                <div class="cell" style="flex-grow: 1;">
                    <h3 class="textrow" style="margin: 2px 4px 4px 0; line-height: 30px;">Checklist for
                        troubleshooting</h3>
                </div>
                <div class="cell buttonsquare expandsection" id="togglechecklist" onclick="toggleChecklist()"
                     style="margin: 4px 4px 0 0;"></div>
            </div>
            <div class="row" id="checklist" style="max-width: 600px; display: none;">
                If a path that should exist doesn't appear in the search results, the tracker is likely missing
                information or there is a tracking mistake.<br>
                Go through this list to try to solve the issue:
                <table class="maintable" id="checklisttable" style="margin-top: 4px;">
                    <tr>
                        <td style="width: 20px;">1</td>
                        <td>
                            Make sure you have selected the correct target screen, starting screen (if not starting from
                            common starts) and correct follower. If you're not sure about which region to choose when
                            given a choice, leave it on "Any region".
                        </td>
                        <td>
                            <div class="buttonbox" onclick="window.scrollTo(0,0); buttonFlash(this)">Look</div>
                        </td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>
                            Make sure all mode settings are correct, especially all Overworld Shuffle settings, World
                            State and Entrance Shuffle.
                        </td>
                        <td>
                            <div class="buttonbox pointer" onclick="openModeSettings()">Look</div>
                        </td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>
                            Make sure that all of your relevant items are marked. The flute needs to be marked as active
                            to be considered by the logic.
                        </td>
                        <td>
                            <div class="buttonbox pointer" onclick="openItems()">Look</div>
                        </td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>
                            Make sure that all of your available connector caves are marked. Even without Entrance
                            Shuffle, some have to be checked manually below the items.
                        </td>
                        <td>
                            <div class="buttonbox pointer" onclick="openConnectors()">Look</div>
                        </td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>
                            Check if all of your save & quit start points are marked. The vanilla spots have checkboxes.<br>
                            For advanced modes (like Entrance Shuffle), some of these may be in a different location, in
                            which case you have to click on the new screen on the full map, and then click on a fitting
                            region name for that screen below the map next to "Add to common starts:".
                        </td>
                        <td>
                            <div class="buttonbox pointer" onclick="openCommonStarts()">Look</div>
                        </td>
                    </tr>
                    <tr id="checklistedges">
                        <td>6</td>
                        <td>
                            Make sure all known screen transitions are correctly set.<br>
                            On the full map, hover over a transition to see where it leads to.<br>
                            A cross on a transition indicates whether it connects the two worlds.<br>
                            The colors on the transitions (known and unknown) can give you a general idea on which areas
                            the tracker currently doesn't consider accessible.
                        </td>
                        <td>
                            <div class="buttonbox" onclick="showFullOverworldModal('editedges')">Look</div>
                        </td>
                    </tr>
                    <tr id="checklistmixed">
                        <td>7</td>
                        <td>
                            Make sure all known Mixed screen states are correctly set.<br>
                            Every screen on the path from the start to the target location needs to have its state
                            (normal or flipped) set.<br>
                            If you notice a wrong screen state, click on the screen on the full map and then on the
                            "Flip" button. Depending on the mode, there may be two such buttons that handle connected
                            transitions differently.<br>
                            The tree indicator in the bottom-left on the full map shows which world you are currently
                            looking at.
                        </td>
                        <td>
                            <div class="buttonbox" onclick="showFullOverworldModal('editedges')">Look</div>
                        </td>
                    </tr>
                    <tr id="checklistflute">
                        <td>8</td>
                        <td>
                            Once you have an active flute, ensure that all flute spots are correctly marked.
                        </td>
                        <td>
                            <div class="buttonbox" onclick="editFluteSpots()">Look</div>
                        </td>
                    </tr>
                </table>
                If, after doing the search, you've changed something in the full map popout or main tracker window
                without leaving this page, click on "Refresh" above the search result list.
                <div class="row" style="margin-top: 12px; margin-bottom: 4px;">
                    <span>More information is available in the <a href="instructions.html#overworld" target="_blank">Instructions</a>.</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="clickPathModal" onclick="hideClickPathModal()">
    <div class="modal" id="clickPathModalMain" onclick="event.stopPropagation()"
         style="width: 348px; top: 300px; left: 8px;">
        <div class="row path" id="currentclickedpath"></div>
        <div class="row">
            <div class="cell">
                <div class='buttonbox orangeborder pointer' onclick="editPath()">Edit path</div>
            </div>
            <div class="cell">
                <div class='buttonbox pointer' onclick="duplicatePath()">Duplicate</div>
            </div>
            <div class="cell">
                <div class='buttonbox yellowborder pointer' id="forkbutton2" onclick="forkExistingPath()">Fork</div>
            </div>
            <div class="cell">
                <div class='buttonbox' onclick="moveToTop()">Top</div>
            </div>
            <div class="cell">
                <div class='buttonbox' onclick="moveToBottom()">Bottom</div>
            </div>
            <div class="cell">
                <div class='buttonbox redborder pointer' onclick="deletePath()">Delete</div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="hintModal" onclick="hideHintModal()">
    <div class="modal" id="hintModalMain" onclick="event.stopPropagation()"
         style="width: 340px; top: 50px; left: 8px; padding: 0px 8px;">
        <div class="row">
            <div>
                <h3 class="textrow">When to use which symbol?</h3>
            </div>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/arrowright.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/arrowrightdown.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/quadranttopleft.png);"></div>
            <span>Indicate which path you took at a branching point.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/keychest0.png);"></div>
            <span>This path is done! Ends in a dead end or useless loop.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/prize0.png);"></div>
            <span>Remember this path for later, it can be explored further.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/crystalswitch.png);"></div>
            <span>A crystal switch can be hit from here.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/orangedown.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/bluedown.png);"></div>
            <span>A specific switch state is needed.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/trapdoor.png);"></div>
            <span>One-way path, no going back from here.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/smallkey.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/items/somaria.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/torch.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/items/bow2.png);"></div>
            <span>An item you're missing is needed to proceed.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/boss0.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/agahnim0.png);"></div>
            <span>A boss is in the way.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/keysteal.png);"></div>
            <span>Useless key door, you can save a key here.</span>
        </div>
        <div class="row hint">
            <div class="pathsymbol" style="background-image: url(./images/dungeons/map.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/compass.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/dungeons/hinttile.png);"></div>
            <div class="pathsymbol" style="background-image: url(./images/items/heartcontainer.png);"></div>
            <span>Give symbols any meaning!</span>
        </div>
        <div class="row" style="margin-bottom: 4px;">
            <span>A detailed explanation can be found in the <a href="instructions.html#dungeon" target="_blank">Instructions</a>.</span>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="roomModal" onclick="hideRoomModal()">
    <div class="modal" id="roomModalMain" onclick="event.stopPropagation()"
         style="width: calc(100% - 8px); top: 110px; left: 4px;">
        <div class="row" id="roommodalswitcher" style="display: flex; margin: 2px;">
            <div class="cell buttonbox dense" id="roommodalfull" onclick="loadRoomModalFull()">Full view</div>
            <div class="cell buttonbox dense" id="roommodaldefault" onclick="loadRoomModalDefault()">Default view</div>
            <div class="cell buttonbox dense" id="roommodalnondefault" onclick="loadRoomModalNonDefault()">Not default
            </div>
            <div class="cell buttonbox dense" id="roommodalimportant" onclick="loadRoomModalImportant()">Important</div>
            <div class="cell buttonsquare close redborder" onclick="hideRoomModal()"
                 style="margin: 2px 6px 0 auto;"></div>
        </div>
        <div class="row" style="margin: 4px 0px;">
            <label><input id="splitpath" type="checkbox"/>Split path at this node (save and start new path)</label>
        </div>
        <div class="row" id="dungeonentrancesmodal"></div>
        <div class="row" id="dungeonimportantmodal" style="margin: 8px 0;"></div>
        <div class="row" id="dungeonusedmodal"></div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="fullowModal" onclick="hideFullOverworldModal()">
    <div class="modal" id="fullowModalMain" onclick="event.stopPropagation()"
         style="width: calc(100% - 8px); max-width: 1544px; top: 24px; left: 4px;">
        <div class="row" id="fullowtitlebar" style="display: flex;">
            <div class="cell" style="flex-grow: 1;">
                <h2 class="textrow" id="fullowtitle" style="margin: 2px 4px 0 4px;"></h2>
            </div>
            <div class="cell buttonsquare settings" id="fullowsettingsbutton" onclick="showEditMapModeModal(false)"
                 style="margin: 4px 4px 0 0;"></div>
            <div class="cell buttonsquare owicon pointer" onclick="hideFullOverworldModal(); sideLoadOverworld()"
                 style="margin: 4px 4px 0 0;"></div>
            <div class="cell buttonsquare close redborder" onclick="hideFullOverworldModal()"
                 style="margin: 4px 4px 0 0;"></div>
        </div>
        <div class="row" id="fullowsettingsbar">
            <div class="cell">
                <div class="buttonbox" id="switchow" onclick="switchFullOverworldPopout()">Switch worlds</div>
            </div>
            <div class="cell">
                <div class="buttonbox" id="editmapmode" onclick="showEditMapModeModal(false)"
                     style="margin-right: 4px;">Edit map view
                </div>
            </div>
            <div class="rightalign">
                <div class="cell">
                    <span style="top: 7px; margin-right: 8px; position: relative;"><input id="zoomautoow"
                                                                                          onchange="zoomAutoFullOverworldPopout(this)"
                                                                                          type="checkbox"/><label
                            for="zoomautoow" id="zoomautoowtext">Auto zoom</label></span>
                </div>
                <div class="cell">
                    <div class="buttonsquare minus" id="zoomoutow" onclick="zoomOutFullOverworldPopout()"
                         style="margin: 4px 0;"></div>
                </div>
                <div class="cell">
                    <div class="buttonsquare plus" id="zoominow" onclick="zoomInFullOverworldPopout()"></div>
                </div>
            </div>
        </div>
        <div class="row" id="fullowpanelrow">
            <div class="fullowpanel" id="fullowpanel">
                <div id="fullowpanelmain" style="position: absolute;"></div>
                <div id="fullowpanelpathoverlay" style="position: absolute; pointer-events: none; z-index: 3;"></div>
                <div id="fullowpaneloverlay" style="position: absolute; pointer-events: none; z-index: 6;"></div>
            </div>
        </div>
        <div id="fullowscreenactions" style="display: none;">
            <div class="row">
                <div style="display: inline-block;">
                    <h3 class="textrow" id="fullowscreenname" style="margin-left: 4px;"></h3>
                </div>
                <div class="rightalign" style="margin-right: 2px;">
                    <div class="cell buttonbox dense pointer" id="fullownewpath" onclick="fullOverworldNewPath()">New
                        path
                    </div>
                    <div class="cell buttonbox dense pointer" id="fullowsearch" onclick="fullOverworldSearch()">Search
                        path
                    </div>
                    <div class="cell buttonbox dense" id="fullownewconnector" onclick="fullOverworldNewConnector()">New
                        connector
                    </div>
                </div>
            </div>
            <div class="row" id="fullowmixedactions" onmouseout="hoverMixedGroup(false)"
                 onmouseover="hoverMixedGroup(true)">
                <div style="display: inline-block;">
                    <span class="textrow" id="fullowmixedscreenstate"
                          style="line-height: 26px; margin-left: 4px;"></span>
                </div>
                <div class="rightalign" style="margin-right: 2px;">
                    <div class="cell buttonbox small dense redborder" id="fullowunknownstate"
                         onclick="fullOverworldUnknownState()">Reset
                    </div>
                    <div class="cell buttonbox small dense" id="fullowswapscreen"
                         onclick="fullOverworldSwapScreen(this,false)">Flip
                    </div>
                    <div class="cell buttonbox small dense" id="fullowswapscreenwithedges"
                         onclick="fullOverworldSwapScreen(this,true)">Flip, keep edge worlds
                    </div>
                </div>
            </div>
            <div class="row" id="fullowregionlist" style="margin-right: 2px; margin-bottom: 2px;"></div>
        </div>
        <div class="row" id="fullowedgeactions" style="display: none;">
            <div class="row">
                <div style="display: inline-block;">
                    <h3 class="textrow" id="fullowedgename" style="margin-left: 4px;"></h3>
                </div>
                <div class="rightalign" style="margin-right: 2px;">
                    <div class="cell buttonbox dense" id="fullowedgeloop" onclick="fullOverworldLoopEdge()">Self-loop
                    </div>
                    <div class="cell buttonbox dense" id="fullowedgedeselect" onclick="fullOverworldDeselectEdge()">
                        Deselect
                    </div>
                </div>
            </div>
            <div id="fullowedgecoupled" style="display: none;">
                <div class="row">
                    <div style="display: inline-block;">
                        <span class="textrow" id="fullowedgetext" style="margin-left: 4px;"></span>
                    </div>
                </div>
                <div class="row">
                    <div style="float: left; margin-right: 4px;">
                        <h3 class="textrow" style="margin-left: 4px;">To:</h3>
                    </div>
                    <div style="float: left;">
                        <span class="textrow" id="fullowedgecoupledtext" style="margin-right: 4px; line-height: 30px;">(No destination set)</span>
                    </div>
                    <div class="cell buttonbox dense" id="fullowedgecoupledname" onclick="fullOverworldSelectEdgeOut()"
                         onmouseout="clearFullOverlay(false)"></div>
                    <div class="rightalign" style="margin-right: 2px;">
                        <div class="cell buttonbox dense redborder" id="fullowedgecoupleddelete"
                             onclick="fullOverworldDeleteConnectionAll()" onmouseout="clearFullOverlay(false)">
                            Disconnect
                        </div>
                    </div>
                </div>
            </div>
            <div id="fullowedgedecoupled" style="display: none;">
                <div class="row">
                    <div style="float: left; margin-right: 4px;">
                        <h3 class="textrow" style="margin-left: 4px;">To:</h3>
                    </div>
                    <div style="float: left;">
                        <span class="textrow" id="fullowedgedecoupledouttext"
                              style="margin-right: 4px; line-height: 30px;">(Click another edge to set destination)</span>
                    </div>
                    <div class="cell buttonbox dense" id="fullowedgedecoupledoutname"
                         onclick="fullOverworldSelectEdgeOut()" onmouseout="clearFullOverlay(false)"></div>
                    <div class="rightalign" style="margin-right: 2px;">
                        <div class="cell buttonbox dense redborder" id="fullowedgedecoupledoutdelete"
                             onclick="fullOverworldDeleteConnectionOut()" onmouseout="clearFullOverlay(false)">
                            Disconnect
                        </div>
                    </div>
                </div>
                <div class="row" id="fullowedgedecoupledinonerow">
                    <div style="float: left; margin-right: 4px;">
                        <h3 class="textrow" style="margin-left: 4px;">From:</h3>
                    </div>
                    <div style="float: left;">
                        <span class="textrow" id="fullowedgedecoupledinonetext"
                              style="margin-right: 4px; line-height: 30px;">(No edge set that leads here)</span>
                    </div>
                    <div class="cell buttonbox dense" id="fullowedgedecoupledinonename"
                         onclick="fullOverworldSelectEdgeIn(0)" onmouseout="clearFullOverlay(false)"></div>
                    <div class="rightalign" style="margin-right: 2px;">
                        <div class="cell buttonbox dense redborder" id="fullowedgedecoupledinonedelete"
                             onclick="fullOverworldDeleteConnectionAllIn()" onmouseout="clearFullOverlay(false)">
                            Disconnect
                        </div>
                    </div>
                </div>
                <div class="row" id="fullowedgedecoupledinrow">
                    <div style="float: left; margin-right: 4px;">
                        <h3 class="textrow" style="margin-left: 4px;">From:</h3>
                    </div>
                    <div style="float: left;">
                        <span class="textrow" id="fullowedgedecoupledintext"
                              style="margin-right: 4px; line-height: 30px;"></span>
                    </div>
                    <div id="fullowedgedecoupledinbuttons"></div>
                    <div class="rightalign" style="margin-right: 2px;">
                        <div class="cell buttonbox dense redborder" id="fullowedgedecoupledindelete"
                             onclick="fullOverworldDeleteConnectionAllIn()" onmouseout="clearFullOverlay(false)">
                            Disconnect all
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" id="fullowconnectoractions" style="display: none;">
            <div style="display: inline-block;">
                <h3 class="textrow" style="margin-left: 4px;">Click on the connector end screen</h3>
            </div>
            <div class="rightalign">
                <div class="cell buttonbox" onclick="fullOverworldCancelConnector()">Cancel</div>
            </div>
        </div>
        <div id="fullowunknownconnector" style="display: none;">
            <div class="row">
                <div style="border-top: 2px solid yellow; margin: 12px 4px 0 4px; padding-top: 4px;">Recent connector
                    with missing direction detail:
                </div>
            </div>
            <div class="row">
                <h3 id="fullowunknownconnectortext" style="margin: 0 4px 0 4px;"></h3>
            </div>
            <div class="row">
                <div class="cell buttonbox" onclick="fullConnectorOneWay()">Only one direction</div>
                <div class="cell buttonbox" onclick="fullConnectorTwoWay()">Both directions</div>
            </div>
        </div>
        <div class="row" id="fullowsearchpresets" style="display: none;">
            <h3 class="cell" style="margin: 6px 4px;">Search presets:</h3>
            <div class="buttonbox pointer cell" onclick="startOverworldSearchPreset('activateflute')">Activate flute
            </div>
            <div class="buttonbox pointer cell" onclick="startOverworldSearchPreset('smith')">Smith</div>
            <div class="buttonbox pointer cell" onclick="startOverworldSearchPreset('purplechest')">Purple chest</div>
            <div class="buttonbox pointer cell" onclick="startOverworldSearchPreset('redbomb')">Red bomb</div>
        </div>
        <div class="row" id="fullowcommonstarts" style="display: none;">
            <div class="buttonbox" onclick="fullOverworldCommonStarts()">Use common starts only</div>
        </div>
        <div id="fullowflutespots" style="display: none;">
            <div class="row">
                <h2 class="textrow" id="fullowflutespotstext" style="display: inline-block; margin-left: 4px;"></h2>
                <div class="buttonbox rightalign" onclick="showFullOverworldModal('editedges')">Full map</div>
            </div>
            <div class="row">
                <div style="display: inline-block;">
                    <div class="buttonbox small redborder" onclick="fullOverworldDisableFluteShuffle()">Disable Flute
                        Shuffle
                    </div>
                </div>
                <div style="display: inline-block;">
                    <span class="textrow">if all flute spots are vanilla</span>
                </div>
            </div>
        </div>
        <div id="fullowpathactions" style="display: none;">
            <div class="row">
                <div style="display: inline-block;">
                    <h3 class="textrow" style="margin-left: 2px;">Attached path:</h3>
                </div>
                <div class="rightalign">
                    <div class="cell" id="fullowsavepath">
                        <div class="buttonbox dense greenborder" onclick="fullOverworldSavePath(this)">Pin</div>
                    </div>
                    <div class="cell" id="fullowrepeatsearch">
                        <div class="buttonbox dense" onclick="fullOverworldRepeatSearch()">Repeat search</div>
                    </div>
                    <div class="cell" id="fullowdeletepath">
                        <div class="buttonbox dense redborder" onclick="fullOverworldDeletePath()">Detach from map</div>
                    </div>
                </div>
            </div>
            <div class="row path" id="fullowhighlightedpath" onclick="fullOverworldToggleCompactPath()"
                 style="transform-origin: 0 0;">
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="owconnectorModal" onclick="hideOverworldConnectorModal()">
    <div class="modal" id="owconnectorModalMain" onclick="event.stopPropagation()"
         style="width: 320px; top: 80px; left: 68px; padding: 0px 8px;">
        <div class="row">
            <div class="cell" style="width: 128px; margin-right: 32px;">
                <h3 class="textrow">Connector from:</h3>
            </div>
            <div class="cell">
                <h3 class="textrow">To:</h3>
            </div>
        </div>
        <div class="row">
            <div class="cell bigowscreenpanel" id="bigowscreenstartpanel" style="margin-right: 32px;"></div>
            <div class="cell bigowscreenpanel" id="bigowscreenendpanel"></div>
        </div>
        <div class="row">
            <div class="cell" style="width: 128px; margin-right: 32px;">
                <h3 class="textrow" id="connectorstartscreenname"></h3>
            </div>
            <div class="cell">
                <h3 class="textrow" id="connectorendscreenname"></h3>
            </div>
        </div>
        <div class="row">
            <div class="cell" id="connectorstartregions" style="width: 128px; margin-right: 32px;"></div>
            <div class="cell" id="connectorendregions" style="width: 128px;"></div>
        </div>
        <div class="row">
            <label><input id="connectorbidirectional" style="margin-top: 12px;" type="checkbox"/>Can use this connector
                in both directions</label>
        </div>
        <div class="row" style="margin-bottom: 8px 0;">
            <div class="cell">
                <div class="buttonbox redborder" onclick="connectorBackToFullOverworld()">Cancel</div>
            </div>
            <div class="rightalign">
                <div class="cell">
                    <div class="buttonbox greenborder" id="saveconnector" onclick="saveConnector()">Save connector</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="owextraModal" onclick="hideOverworldExtraModal()">
    <div class="modal" id="owextraModalMain" onclick="event.stopPropagation()"
         style="width: 184px; top: 120px; left: 100px; padding: 0px 8px;">
        <div class="row">
            <div>
                <h3 class="textrow">Which of these edges?</h3>
            </div>
        </div>
        <div class="row">
            <div class="cell">
                <div class="buttonbox" onclick="extraBackToFullOverworld()">Choose a different screen</div>
            </div>
        </div>
        <div class="row">
            <div class="bigowscreenpanel" id="bigowscreenpanel" style="margin-left: 16px;"></div>
        </div>
        <div class="row">
            <div class="cell" style="margin-left: 12px;">
                <div class="buttonbox" id="edgebutton0" onclick="selectTargetEdge(0)">Left</div>
            </div>
            <div class="cell">
                <div class="buttonbox" id="edgebutton1" onclick="selectTargetEdge(1)">Middle</div>
            </div>
            <div class="cell">
                <div class="buttonbox" id="edgebutton2" onclick="selectTargetEdge(2)">Right</div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="clickOWPathModal" onclick="hideClickOverworldPathModal()">
    <div class="modal" id="clickOWPathModalMain" onclick="event.stopPropagation()"
         style="width: 360px; top: 300px; left: 8px;">
        <div class="row path" id="currentclickedowpath" style="transform-origin: 0 0;"></div>
        <div class="row">
            <div class="cell" id="viewmapowpath">
                <div class="buttonbox greenborder" onclick="viewMapOverworldPath()">View on map</div>
            </div>
            <div class="cell" id="saveowpath">
                <div class="buttonbox greenborder" onclick="pinOverworldPath(this)">Pin for later</div>
            </div>
            <div class="cell" id="repeatsearch">
                <div class="buttonbox" onclick="repeatSearch()">Repeat search</div>
            </div>
            <div class="cell" id="deleteowpath">
                <div class="buttonbox redborder" onclick="deleteOverworldPath()">Delete from this list</div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="clickconnectorModal" onclick="hideClickConnectorModal()">
    <div class="modal" id="clickconnectorModalMain" onclick="event.stopPropagation()"
         style="width: 360px; top: 300px; left: 8px;">
        <h3 class="row textrow" id="currentclickedconnectorstart" style="margin-left: 4px;"></h3>
        <h3 class="row textrow" id="currentclickedconnectorend" style="margin-left: 4px;"></h3>
        <h3 class="row textrow" id="currentclickedconnectordirections" style="margin-left: 4px;"></h3>
        <div class="row">
            <div class="cell">
                <div class="buttonbox" id="clickedconnectorone" onclick="clickedConnectorOneWay()">Only one direction
                </div>
            </div>
            <div class="cell">
                <div class="buttonbox" id="clickedconnectortwo" onclick="clickedConnectorTwoWay()">Both directions</div>
            </div>
            <div class="cell">
                <div class="buttonbox" id="clickedconnectorunknown" onclick="clickedConnectorUnknown()">Unsure</div>
            </div>
            <div class="cell" id="clickedconnectordelete">
                <div class="buttonbox redborder" onclick="deleteClickedConnector()">Delete</div>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="editmapmodeModal" onclick="hideEditMapModeModal()" style="z-index: 20;">
    <div class="modal" id="editmapmodeModalMain" onclick="event.stopPropagation()"
         style="width: 300px; top: 180px; left: 80px; z-index: 21;">
        <div class="row" style="display: flex;">
            <div class="cell" style="flex-grow: 1;">
                <h3 class="textrow" style="margin: 4px; line-height: 26px;">How should the worlds be laid out?</h3>
            </div>
            <div class="cell buttonsquare close redborder" onclick="hideEditMapModeModal()"
                 style="margin: 4px 4px 0 0;"></div>
        </div>
        <div class="row" style="padding-top: 2px; padding-bottom: 8px;">
            <input id="mapmodeauto" onchange="toggleMapModeAuto()" type="checkbox"><label for="mapmodeauto">Automatic
            based on window size</label>
        </div>
        <div class="row">
            <input id="mapmodesingle" name="mapmode" onchange="setMapMode('single')" type="radio" value="single"><label
                for="mapmodesingle" style="font-weight: bold;">Single world</label>
        </div>
        <div class="row mapmodetext">
            <span class="textrow">Recommended for a small window. Generally requires using the "Switch worlds" button above the map a lot.</span>
        </div>
        <div class="row">
            <input id="mapmodehorizontal" name="mapmode" onchange="setMapMode('horizontal')" type="radio"
                   value="horizontal"><label for="mapmodehorizontal" style="font-weight: bold;">Horizontal
            layout</label>
        </div>
        <div class="row mapmodetext">
            <span class="textrow">Recommended for a wide window.</span>
        </div>
        <div class="row">
            <input id="mapmodevertical" name="mapmode" onchange="setMapMode('vertical')" type="radio"
                   value="vertical"><label for="mapmodevertical" style="font-weight: bold;">Vertical
            layout</label>
        </div>
        <div class="row mapmodetext">
            <span class="textrow">Recommended for a tall and thin window.</span>
        </div>
        <div class="row">
            <div class="buttonbox" id="mainswitchow" onclick="switchFullOverworldEditMapMode(this)">Switch Light and
                Dark World
            </div>
        </div>
        <div class="row">
            <div class="cell">
                <h3 class="textrow" id="mapmodezoomvalue" style="margin: 4px; margin-top: 6px;">Zoom:</h3>
            </div>
            <div class="rightalign">
                <div class="cell">
                    <span style="top: 7px; margin-right: 8px; position: relative;"><input id="mapmodezoomauto"
                                                                                          onchange="zoomAutoFullOverworldMapMode(this)"
                                                                                          type="checkbox"/><label
                            for="mapmodezoomauto">Auto zoom</label></span>
                </div>
                <div class="cell">
                    <div class="buttonsquare minus" id="mapmodezoomout" onclick="zoomOutFullOverworldMapMode()"
                         style="margin: 4px 0;"></div>
                </div>
                <div class="cell">
                    <div class="buttonsquare plus" id="mapmodezoomin" onclick="zoomInFullOverworldMapMode()"></div>
                </div>
            </div>
        </div>
        <div class="row" style="padding: 4px; font-size: 12px; line-height: 14px;">
            <span class="textrow">Go to the tracker settings for advanced customization.</span>
        </div>
        <div class="row">
            <div class="buttonbox small dense pointer redborder" onclick="openTrackerSettings()"
                 style="width: calc(50% - 4px); float: left;">Tracker settings
            </div>
            <div class="buttonbox small dense pointer redborder" onclick="openModeSettings()"
                 style="width: calc(50% - 4px); float: left;">Mode and sync settings
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="owmodehelpModal" onclick="hideOverworldModeHelpModal()">
    <div class="modal" id="owmodehelpModalMain"
         onclick="event.stopPropagation()"
         style="width: calc(100% - 16px); max-height: calc(100% - 80px); top: 50px; left: 8px; overflow-y: scroll; padding: 0px 8px;">
        <div class="row" style="display: flex;">
            <div class="cell" style="flex-grow: 1;">
                <h3 class="textrow" style="line-height: 26px;">What are the Overworld Shuffle modes?</h3>
            </div>
            <div class="cell buttonsquare close redborder" onclick="hideOverworldModeHelpModal()"
                 style="margin: 4px 0 0 0;"></div>
        </div>
        <div class="row owhint">
            <span style="font-size: 16px; font-weight: bold;">Layout Shuffle:</span>
        </div>
        <div class="row owhint">
            <span>Screen edges can lead to completely different places. For example, walking north from Link's House might lead straight to Kakariko.</span>
        </div>
        <div class="row owhint">
            <span>In Parallel, edges that exist in both worlds remain parallel. For example, if Kakariko is north of Link's House, then Village of Outcasts is north of the Bomb Shop.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Whirlpool Shuffle:</span>
        </div>
        <div class="row owhint">
            <span>Whirlpools can lead to completely different places.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Crossed Overworld:</span>
        </div>
        <div class="row owhint">
            <span>Screen transitions (edges and whirlpools) can connect the 2 worlds. For example, north of Link's House can either lead to Hyrule Castle or the Pyramid (assuming vanilla layout).</span>
        </div>
        <div class="row owhint">
            <span>In Polar, transitions are only crossed if Mixed Overworld is enabled and the 2 screens it connects have different states. (Vanilla Light World always connects to vanilla Light World.)</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Keep Similar Edges Together:</span>
        </div>
        <div class="row owhint">
               <span>If enabled, certain groups of screen edges stay together in Layout Shuffle and Crossed Overworld.
               For example, the 2 west land edges on the Potion Shop screen can only lead to a screen with 2 east land edges, and either none or both are crossed.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Swapped Overworld:</span>
        </div>
        <div class="row owhint">
               <span>If enabled, when screen edges or whirlpools are shuffled, these transitions are swapped in pairs, avoiding vanilla transitions as much as possible.
               For example, if the edge east from Link's House leads to the Graveyard, then the edge east from Sanctuary must lead to the screen above Hobo.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Free Terrain:</span>
        </div>
        <div class="row owhint">
            <span>If enabled, Layout Shuffle can connect land with water transitions.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Decoupled Overworld:</span>
        </div>
        <div class="row owhint">
               <span>If enabled, in Layout Shuffle, Whirlpool Shuffle and Crossed Overworld, going back through a transition can lead somewhere different from where you originally came from. In other words, entering and exiting a screen transition are decoupled from each other.
               For example, going north from Link's House might lead to Kakariko, but going back south through the transition you just came out of might lead to the Eastern Portal (assuming Layout Shuffle is also enabled).</span>
        </div>
        <div class="row owhint">
            <span>In Chaos, multiple edges are allowed to lead to the same destination.</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Mixed Overworld:</span>
        </div>
        <div class="row owhint">
               <span>Each screen has one of 2 states: normal or flipped. If a screen is flipped, its Light and Dark World versions switch places in this seed and the screen behaves like in Inverted (assuming Open world state).
               For example, if the Graveyard is flipped, the Graveyard Ledge cave is in the Dark World, and (in Open) there is a ladder that gives you access to it (since it would be impossible to mirror to it).</span>
        </div>
        <div class="row owhint" style="margin-top: 16px;">
            <span style="font-size: 16px; font-weight: bold;">Flute Shuffle:</span>
        </div>
        <div class="row owhint">
            <span>The 8 flute spots are randomized. Each overworld screen has one possible flute spot and 8 screens are randomly selected.</span>
        </div>
        <div class="row" style="margin-bottom: 4px;">
            <span>The <a href="instructions.html#overworld" target="_blank">Instructions</a> explain how these modes are tracked.</span>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="autoadjustModal" onclick="hideAutoAdjustModal()" style="z-index: 20;">
    <div class="modal" id="autoadjustModalMain"
         onclick="event.stopPropagation()" style="width: calc(100% - 64px); top: 50px; left: 32px; padding: 0px 4px;">
        <div class="row" style="display: flex;">
            <div class="cell" style="flex-grow: 1;">
                <h3 class="textrow" style="line-height: 26px;">Automatic edge adjustments</h3>
            </div>
            <div class="cell buttonsquare close redborder" onclick="hideAutoAdjustModal()"
                 style="margin: 4px 0 0 0;"></div>
        </div>
        <div class="row">
            <span>With this, some screen transitions can be automatically deduced from the mode and already marked transitions.</span>
        </div>
        <div class="row" style="margin: 4px 0;">
            <span style="font-weight: bold;">Only confirm this if all mode settings are final!</span>
        </div>
        <div class="row" style="margin-bottom: 16px;">
            <span>If you proceed right now, the following things will change:</span>
        </div>
        <div class="row" id="autoadjustinvalidscreen">
            <span>&#x2022; The 3 screens in the Escape sequence will get set to normal state.</span>
        </div>
        <div class="row" id="autoadjustinconsistentgroup">
            <span>&#x2022; Multiple screens in a group that must have the same state, but have conflicting marked states, will get reset to unknown state.</span>
        </div>
        <div class="row" id="autoadjustmissingscreen">
            <span>&#x2022; Multiple screens in a group that must have the same state where only some have a marked state (without conflicts) will all have this state marked.</span>
        </div>
        <div id="autoadjustinvalidedge">
            <div class="row">
                <span>&#x2022; Some marked connections are invalid in the currently selected mode. Proceeding will delete these connections. For example (click to view on the map):</span>
            </div>
            <div class="row" style="padding-left: 16px;">
                <span>From:</span>
                <div class="buttonbox small dense pointer" id="autoadjustinvalidedgeout"
                     style="display: inline-block;"></div>
            </div>
            <div class="row" style="padding-left: 16px;">
                <span>To:</span>
                <div class="buttonbox small dense pointer" id="autoadjustinvalidedgein"
                     style="display: inline-block;"></div>
            </div>
            <div class="row" style="padding-left: 16px;">
                <span>(If this transition is correctly marked, go to the mode settings and find the mistake there.)</span>
            </div>
        </div>
        <div id="autoadjustinvalidindegree">
            <div class="row">
                <span>&#x2022; Some transitions have multiple origin points. Proceeding will delete all connections with this destination. For example (click to view on the map):</span>
            </div>
            <div class="row" style="padding-left: 16px;">
                <span>To:</span>
                <div class="buttonbox small dense pointer" id="autoadjustinvalidindegreein"
                     style="display: inline-block;"></div>
            </div>
            <div class="row" style="padding-left: 16px;">
                <span>(If there really are multiple transitions leading to this one, go to the mode settings and change the Decoupled setting.)</span>
            </div>
        </div>
        <div class="row" id="autoadjustinconsistentedge">
            <span>&#x2022; Multiple connections that may be valid individually, but not as a group (Keep Similar edge groups, parallel edges or bidirectional connections), will get deleted.</span>
        </div>
        <div class="row" id="autoadjustinconsistentsimilar">
            <span>&#x2022; Multiple connections within a Keep Similar group that may be valid individually, but not as a group, will get deleted.</span>
        </div>
        <div class="row" id="autoadjustinconsistentswapped">
            <span>&#x2022; Multiple connections that may be valid individually, but do not form a swapped pair or vanilla transition as they should, will get deleted.</span>
        </div>
        <div class="row" id="autoadjustinconsistentparallel">
            <span>&#x2022; Multiple connections that may be valid individually, but are not parallel as they should, will get deleted.</span>
        </div>
        <div class="row" id="autoadjustinconsistentcoupled">
            <span>&#x2022; Multiple connections in one direction that may be valid individually, but are not bidirectional, will get deleted.</span>
        </div>
        <div class="row" id="autoadjustmissingfixed">
            <span>&#x2022; Some connections that are guaranteed to be vanilla in this mode will get set.</span>
        </div>
        <div class="row" id="autoadjustmissingedge">
            <span>&#x2022; Some of the marked connections enforce additional connections (Keep Similar edge groups, parallel edges or bidirectional connections) that will get marked.</span>
        </div>
        <div class="row" id="autoadjustmissingsimilar">
            <span>&#x2022; Because of Keep Similar, somes edges will get connected based on an already set transition within the edge group.</span>
        </div>
        <div class="row" id="autoadjustmissingswapped">
            <span>&#x2022; Some swapped counterparts of already connected edges will get connected.</span>
        </div>
        <div class="row" id="autoadjustmissingparallel">
            <span>&#x2022; Some parallel counterparts of already connected edges will get connected.</span>
        </div>
        <div class="row" id="autoadjustmissingcoupled">
            <span>&#x2022; Connections that were only set in one direction will be turned bidirectional.</span>
        </div>
        <div class="row" id="autoadjustnone">
            <span>No adjustments found!</span>
        </div>
        <div class="row">
            <div class="buttonbox greenborder" onclick="hideAutoAdjustModal(); vanillaTransitionsMode(null)"
                 style="margin: 8px 0 0 0;">Mode is final, perform all above
                adjustments
            </div>
        </div>
        <div class="row" style="display: flex;">
            <div class="buttonbox" onclick="hideAutoAdjustModal()" style="flex-grow: 1; margin-left: 0;">Dismiss for
                now
            </div>
            <div class="buttonbox redborder" onclick="hideAutoAdjustModal(); hideFinalBox(); drawFullOverworldPanels()"
                 style="margin-left: 0;">Decline
            </div>
            <div class="buttonbox pointer" onclick="hideAutoAdjustModal(); openModeSettings()" style="margin: 4px 0;">
                Mode settings
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" class="modalbg" id="bulkactionsModal" onclick="hideBulkActionsModal()">
    <div class="modal" id="bulkactionsModalMain"
         onclick="event.stopPropagation()"
         style="width: calc(100% - 16px); max-height: calc(100% - 80px); top: 50px; left: 8px; overflow-y: scroll; padding: 0px 8px;">
        <div class="row" style="display: flex;">
            <div class="cell" style="flex-grow: 1;">
                <h3 class="textrow" style="line-height: 26px;">Bulk transition actions</h3>
            </div>
            <div class="cell buttonsquare close redborder" onclick="hideBulkActionsModal()"
                 style="margin: 4px 0 0 0;"></div>
        </div>
        <div class="row owhint">
            <span>The following actions can be used to mark all screen edge or whirlpoool transitions in a specific group at once. Useful for example for playing a seed where a Customizer YAML has been used to guarantee certain vanilla transitions, or for generating such a YAML file.</span>
        </div>
        <div class="row owhint">
            <span>Note: These actions do not take screen flips from Mixed Overworld into account.</span>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaHorizontal(this)" style="margin-top: 8px;">Make all horizontal edge
                transitions vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaVertical(this)" style="margin-top: 0;">Make all vertical edge
                transitions vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaWhirlpools(this)" style="margin-top: 0;">Make all whirlpool
                transitions vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaLight(this)" style="margin-top: 0;">Make all Light World transitions
                vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaDark(this)" style="margin-top: 0;">Make all Dark World transitions
                vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaSmallScreens(this)" style="margin-top: 0;">Make all transitions
                between small screens vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaLargeScreens(this)" style="margin-top: 0;">Make all transitions from
                and to large screens vanilla
            </div>
        </div>
        <div class="row">
            <div class="buttonbox" onclick="vanillaSpecialScreens(this)" style="margin-top: 0; margin-bottom: 8px;">Make
                Pedestal, Zora and Hobo transitions vanilla
            </div>
        </div>
    </div>
</div>
<script>start()</script>
</body>
</html>